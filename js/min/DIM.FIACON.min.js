
$("#form_modal_colar").on("hide.bs.modal",function(){$("#addPaste").empty().get(0)});$(document).on("paste",function(C){if(!($("#form_modal_colar").is(":visible"))){var p=["li-ali","li-aie","li-ee","li-se","li-ce"];var d=$("ul#tabs-contagem li.active").get(0).id;var k=C.originalEvent.clipboardData.getData("text");var A=k.split(/\r\n|\r|\n/g);console.log(A);var u=["funcao","opera&ccedil;&atilde;o","TD","AR/TR","m&eacute;todo"];var a=$("#addPaste").empty().get(0);var y,B,m,q,w,D,G,H,b,g;var o;var t;var c="";var j,E,s,r,f,F;if(p.indexOf(d)<0){return true}else{if(A.length%3!=0){swal({title:"Alerta",text:"Aparentemente n&atilde;o h&aacute; nada na &aacute;rea de transfer&ecirc;ncia, ou as informa&ccedil;&otilde;es n&atilde;o s&atilde;o v&aacute;lidas<br />Quantidade de linhas: "+A.length,type:"warning",html:true,confirmButtonText:"Entendi, vou verificar!"},function(){return false})}else{switch(d){case"li-ali":if(!($("#form_modal_funcao_dados").is(":visible"))){$("#form_modal_colar").modal("toggle");var h=0;for(x=0;x<A.length;x+=3){j=A[x].split(";");if(j.length<5&&h==0){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A linha (Fun&ccedil;&atilde;o) n&atilde;o est&aacute; em um formato v&aacute;lido<br />';for(z=1;z<j.length;z++){if(j[z].length==0){c+='<i class="fa fa-times-circle-o"></i>&nbsp;O campo <strong>'+u[z]+"</strong> n&atilde;o tem um formato v&aacute;lido<br />"}}}r=j[4].toUpperCase();if(r!=="F"&&r!=="N"&&r!=="D"){c+='<i class="fa fa-times-circle-o"></i>&nbsp;O campo <strong>m&eacute;todo</strong> &eacute; inv&aacute;lido<br />'}h++;E=A[x+1].split(":");if(E.length<2&&h==1){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A linha (TD)n&atilde;o est&aacute; em um formato v&aacute;lido<br />'}if(r==="D"){if(E[1].length==0){c+='<i class="fa fa-times-circle-o"></i>&nbsp;O m&eacute;todo (D) Detalhado exige a descri&ccedil;&atilde;o dos TDs<br />'}}h++;s=A[x+2].split(":");if(s.length<2&&h==2){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A linha (AR/TR) n&atilde;o est&aacute; em um formato v&aacute;lido<br />'}if(r==="D"){if(s[1].length==0){c+='<i class="fa fa-times-circle-o"></i>&nbsp;O m&eacute;todo (D) Detalhado exige a descri&ccedil;&atilde;o dos TRs<br />'}}if(isDuplicada("ALI",j[0])){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A funcionalidade j&aacute; est&aacute; cadastrada na contagem<br />'}if(abAtual==2){$.ajaxSetup({async:false});$.post("/pf/DIM.gateway.php",{arq:83,tch:1,sub:-1,dlg:1,fun:j[0],tbl:"ali",icn:idContagem,iba:$("#contagem_id_baseline").val()},function(l){if(l.length==0&&j[1].toUpperCase()==="A"||j[1].toUpperCase()==="E"){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A funcionalidade n&atilde;o existe na Baseline<br/ >'}else{if(Number(l.id)>0&&j[1].toUpperCase()==="I"){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A funcionalidade j&aacute; existe na Baseline<br/ >'}}f=(r==="D"?E[1].split(";").length:(r==="N"?19:(r==="F"?51:j[2])));F=(r==="D"?s[1].split(";").length:(r==="N"?"1":(r==="F"?"1":j[3])));o=calculaLinhaPF_v2("ALI",f,F);y=l.length>0?l.funcao:j[0];B="ALI";m=divOperacao(j[1].toUpperCase());q=l.length>0?l.td:f;D=l.length>0?l.tr:F;w=l.length>0?l.descricao_td:E[1];G=l.length>0?l.descricao_tr:s[1];H=l.length>0?l.complexidade:o.c;b=l.length>0?Number(l.pfb).toFixed(3):Number(o.p).toFixed(3);g=j[4].toUpperCase();if(isDuplicada("Paste",j[0])){c+='<i class="fa fa-times-circle-o"></i>&nbsp;A funcionalidade j&aacute; consta nesta tabela de c&oacute;pia<br/ >'}t=a.insertRow(-1);var Q=t.insertCell(0);var P=t.insertCell(1);var O=t.insertCell(2);var N=t.insertCell(3);var M=t.insertCell(4);var L=t.insertCell(5);var K=t.insertCell(6);var J=t.insertCell(7);var I=t.insertCell(8);var v=t.insertCell(9);Q.innerHTML=c===""?'<i class="fa fa-check-circle-o fa-lg"></i>':'<i class="fa fa-times fa-lg"></i>';Q.className=c===""?"yes":"no";P.innerHTML=m;O.innerHTML=y;N.innerHTML=B;M.innerHTML=q+'<br /><label class="label-round-3 label-default" style="margin: 2px;">'+(w).replace(/;/g,'</label><label class="label-round-3 label-default" style="margin: 2px;">')+"</label>";L.innerHTML=D+'<br /><label class="label-round-3 label-default" style="margin: 2px;">'+(G).replace(/;/g,'</label><label class="label-round-3 label-default" style="margin: 2px;">')+"</label>";K.innerHTML=H;J.innerHTML=b;I.innerHTML=g;c+=((j[5]).length>0?(((c).length>0?"<br />---------------<br />":"")+j[5]):"");v.innerHTML=c;c="";h=0},"json");$.ajaxSetup({async:false})}}}else{}break;case"li-aie":if(!($("#form_modal_funcao_dados").is(":visible"))){}break;case"li-ee":if(!($("#form_modal_funcao_transacao").is(":visible"))){}break;case"li-se":if(!($("#form_modal_funcao_transacao").is(":visible"))){}break;case"li-ce":if(!($("#form_modal_funcao_transacao").is(":visible"))){}break}}}}});$(".paste").on("paste",function(j){if($(this).hasClass("transacao")&&Number($("#sel_funcao_transacao").val())<1&&$(this).get(0).id==="transacao_descricao_td"){var l="alert-danger";var b="fa-times";var a="Por favor selecione um Arquivo Referenciado";var g=$(this).hasClass("dados")?"dados":"transacao";var d='<div class="alert '+l+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><i class="fa '+b+'"></i>&nbsp;&nbsp;'+a+"</div>";$("#"+g+"_log").html(d)}else{if($(this).hasClass("transacao")){var p=$(this).get(0).id==="transacao_descricao_ar"?$("input[name=chk-tipo-arquivo]:checked").val():$("#sel_funcao_transacao").find("option:selected").text();var o=j.originalEvent.clipboardData.getData("text");var g=o.split(";");var k=removerDuplicados(g);var m=0;if(k.length>0){for(x=0;x<k.length;x++){var c=k[x];if(c.length>0){c=p+"."+c;adicionarDescricaoPaste(c,$(this));m++}}var l=m>0?"alert-success":"alert-danger";var b=m>0?"fa-check-circle":"fa-times";var a=m>0?"As descri&ccedil;&otilde;es foram adicionadas com sucesso e as duplicadas foram removidas automaticamente.":"Algo errado aconteceu e nenhuma descri&ccedil;&atilde;o foi inserida. Realize a opera&ccedil;&otilde;es de Copiar e Colar novamente.";var g=$(this).hasClass("dados")?"dados":"transacao";var d='<div class="alert '+l+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><i class="fa '+b+'"></i>&nbsp;&nbsp;'+a+"</div>";$("#"+g+"_log").html(d)}}else{var o=j.originalEvent.clipboardData.getData("text");var j=/[^a-z0-9_-|.]/gi;var g=o.split(";");var k=removerDuplicados(g);var m=0;if(k.length>0){for(x=0;x<k.length;x++){var c=k[x];if(c.length>0){adicionarDescricaoPaste(c,$(this));m++}}var l=m>0?"alert-success":"alert-danger";var b=m>0?"fa-check-circle":"fa-times";var a=m>0?"As descri&ccedil;&otilde;es foram adicionadas com sucesso e as duplicadas foram removidas automaticamente.":"Algo errado aconteceu e nenhuma descri&ccedil;&atilde;o foi inserida. Realize a opera&ccedil;&otilde;es de Copiar e Colar novamente.";var g=$(this).hasClass("dados")?"dados":"transacao";var d='<div class="alert '+l+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><i class="fa '+b+'"></i>&nbsp;&nbsp;'+a+"</div>";$("#"+g+"_log").html(d)}}}return false});$(document).ready(function(){$("#btn-pesq-dados").on("click",function(){if(!$(this).hasClass("disabled")){atualizaItensFuncoes($("#dados_tabela").val(),"dados")}});$("#btn-pesq-transacao").on("click",function(){if(!$(this).hasClass("disabled")){atualizaItensFuncoes($("#transacao_tabela").val(),"transacao")}});$(".check-nome-funcao").on("click",function(){var m=$(this).hasClass("dados")?$("#dados_tabela").val():$("#transacao_tabela").val();var g=$(this).hasClass("dados")?"dados":"transacao";var o=g==="dados"?$("#dados_funcao").val():$("#transacao_funcao").val();var k=$("#contagem_id_baseline").val();var d=$("#"+g+"_log").html();var a;var l;var c;var j=false;if(o.length==0){a="A descrição está vazia";l="alert-danger";c="fa-times-circle"}else{if(m==="AIE"){a="Excepcionalmente AIEs podem ter nomes iguais";l="alert-success";c="fa-check-circle"}else{if(isDuplicada(m,o)){if(acForms==="al"){a="A função verificada é a que está sendo editada";l="alert-warning";c="fa-times-circle"}else{a="A função está duplicada";l="alert-danger";c="fa-times-circle"}}else{if(abAtual==3){a="Função não duplicada nesta contagem";l="alert-success";c="fa-check-circle"}else{if(abAtual==2){$.ajaxSetup({async:false});$.post("/pf/DIM.gateway.php",{arq:83,tch:1,sub:-1,dlg:1,fun:o,tbl:m.toLowerCase(),icn:idContagem,iba:k},function(b){j=true;if(Number(b.id)>0){if(Number(b.situacao==1)){a='Esta função está sendo trabalhada na contagem de projeto <strong><a href="#" onclick="window.open(\'/pf/DIM.Gateway.php?arq=0&tch=2&sub=-1&dlg=1&ac=vw&ab=2&id='+b.id_contagem+"'); return false;\">#ID: "+("000000"+b.id_contagem).slice(-6)+"</a></strong> mas ainda n&atilde;o foi validada.";l="alert-danger";c="fa-times-circle"}else{a="A função já existe na baseline, utilize uma consulta para inserir na contagem";l="alert-danger";c="fa-times-circle"}}else{a="A função não está duplicada na contagem e n&atilde;o existe na baseline";l="alert-success";c="fa-check-circle"}d+='<div class="alert '+l+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><center><i class="fa '+c+'"></i>&nbsp;&nbsp;'+a+"</center></div>";$("#"+g+"_log").html(d).scrollTop($("#"+g+"_log")[0].scrollHeight)},"json");$.ajaxSetup({async:false})}else{a="O sistema confere apenas contagens de Projeto e Baseline";l="alert-warning";c="fa-times-circle"}}}}}if(!j){d+='<div class="alert '+l+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><center><i class="fa '+c+'"></i>&nbsp;&nbsp;'+a+"</center></div>";$("#"+g+"_log").html(d).scrollTop($("#"+g+"_log")[0].scrollHeight)}});$(".check-relacionamento").on("click",function(){var c=$("#dados_tabela").val();var b=$("#dados_funcao").val();var a;if(c==="ALI"){$.post("/pf/DIM.gateway.php",{arq:89,tch:1,sub:-1,dlg:1,fun:b,tbl:c.toLowerCase(),idc:idContagem},function(d){e=true;if(Number(d.id)>0){n="";tipo="alert-info";fa="fa-times-circle";a+='<div class="alert '+tipo+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><center><i class="fa '+fa+'"></i>&nbsp;&nbsp;'+n+"</center></div>";$("#dados_log").html(a).scrollTop($("#dados_log")[0].scrollHeight)}},"json")}return false});$("#btn-ar-baseline").on("click",function(){pBaseline=pBaseline?false:true;var a=Number($("#contagem_id_baseline").val());if(pBaseline&&a>0){pArquivosReferenciados(a)}else{$("#lst-ar-baseline").empty()}});$("#btn-ar-projeto").on("click",function(){pProjeto=pProjeto?false:true;var a=$("#contagem_id_baseline").val();if(pProjeto){if(abAtual==3){$("#lst-ar-projeto").append('<li class="btn btn-warning">Voc&ecirc; est&aacute; inserindo uma contagem de <strong>Baseline</strong></li>')}else{pArquivosReferenciados(a)}}else{$("#lst-ar-projeto").empty()}});$("#btn-td-ar-baseline").on("click",function(){bAR=bAR?false:true;var a=$("#contagem_id_baseline").val();if(bAR){pTipoDadoAR($("#transacao_descricao_ar").tagsManager("tags"),a,"B")}else{$("#lst-td-ar-baseline").empty()}});$("#btn-td-ar-projeto").on("click",function(){pAR=pAR?false:true;if(pAR){if(abAtual==3){$("#lst-td-ar-projeto").append('<li class="btn btn-warning">Voc&ecirc; est&aacute; inserindo uma contagem de <strong>Baseline</strong></li>')}else{pTipoDadoAR($("#transacao_descricao_ar").tagsManager("tags"),$("#contagem_id_baseline").val())}}else{$("#lst-td-ar-projeto").empty()}})});$("#escopo").charCount({allowed:3000,warning:100});$("#proposito").charCount({allowed:3000,warning:100});$("#text-indicativa").charCount({allowed:3000,warning:100});$("#entregas").mask("00").on("change",function(){qtdEntregas=$(this).val()}).TouchSpin({verticalbuttons:true,min:1,max:contagemConfig.quantidade_maxima_entregas,step:1,decimals:0,boostat:5,forcestepdivisibility:"none",verticalupclass:"glyphicon glyphicon-plus",verticaldownclass:"glyphicon glyphicon-minus",postfix:""});$("#dados_entrega").mask("00").TouchSpin({verticalbuttons:true,min:1,max:50,step:1,decimals:0,boostat:5,forcestepdivisibility:"none",verticalupclass:"glyphicon glyphicon-plus",verticaldownclass:"glyphicon glyphicon-minus",postfix:""});$("#transacao_entrega").mask("00").TouchSpin({verticalbuttons:true,min:1,max:50,step:1,decimals:0,boostat:5,forcestepdivisibility:"none",verticalupclass:"glyphicon glyphicon-plus",verticaldownclass:"glyphicon glyphicon-minus",postfix:""});$("#outros_entrega").mask("00").TouchSpin({verticalbuttons:true,min:1,max:50,step:1,decimals:0,boostat:5,forcestepdivisibility:"none",verticalupclass:"glyphicon glyphicon-plus",verticaldownclass:"glyphicon glyphicon-minus",postfix:""});$("#addFiles").empty();var ctt="<table class='table table-condensed table-striped'><thead><tr><th>Fun&ccedil;&atilde;o</th><th>M&eacute;todo</th><th>Complex.</th><th>PFb</th></thead><tbody><tr><td>EE, CE</td><td>NESMA</td><td>M&eacute;dia</td><td>4,000</td></tr><tr><td>EE, CE</td><td>FP-LITE</td><td>M&eacute;dia</td><td>4,000</td></tr><tr><td>SE</td><td>NESMA</td><td>M&eacute;dia</td><td>5,000</td></tr><tr><td>SE</td><td>FP-LITE</td><td>M&eacute;dia</td><td>5,000</td></tr> <tr><td colspan='4'><strong>Elementos Funcionas de Transa&ccedil;&atilde;o (EFt)</strong><br />SE [ EFt = 1,00 + 0,81 * ALR + 0,13 * TD ]<br />EE [ EFt = 0,75 + 0,91 * ALR + 0,13 * TD ]<br />CE [ EFt = 0,75 + 0,76 * ALR + 0,10 * TD ]<br /></td></tr></tbody></table>";$("#tbl_tipos").attr("data-content",ctt);$("#is-crud").on("change",function(){if($(this).prop("checked")&&!isCRUD){$(this).bootstrapToggle("off").bootstrapToggle("disable");gravaLogAuditoria(emailLogado,userRole,"is-crud;"+("000000000"+idContagem).slice(-9))}});$("#alterar-funcao-dados").on("click",function(){if($(this).hasClass("alterar")){$("#dados_funcao").prop("readonly",false);$("#dados_funcao_nome_anterior").val($("#dados_funcao").val());$("#dados_funcao_is_alterar_nome").val("1");$(this).removeClass("alterar").addClass("cancelar").removeClass("btn-default").addClass("btn-warning").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Aguarde').prop("disabled",true);var b=abAtual==3?$("#contagem_id_baseline").val():0;var a=$("#dados_funcao_nome_anterior").val();$.post("DIM.Gateway.php",{arq:94,tch:1,sub:-1,dlg:0,idc:idContagem,idb:b,fun:a},function(k){if(k){if(k.length>0){var c="alert-danger";var j="warning";var g="dados";var d=$("#"+g+"_log").html();var l="Refer&ecirc;ncias ao Arquivo L&oacute;gico (<strong>"+a+"</strong>)<br />";for(x=0;x<k.length;x++){l+="[ "+(x+1)+" ]  "+k[x].tipo+" - "+k[x].funcao+" - "+k[x].fonte+"; <br />"}d+='<div class="alert '+c+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&nbsp;<i class="fa fa-times-circle"></i>&nbsp;</span></button><button type="button" class="close" data-dismiss="alert" aria-label="Close" data-toggle="tooltip" data-placement="left" title="Inserir em observações" onclick="javascript: $(\'#dados_observacoes\').val($(\'#dados_observacoes\').val() + $(\'#log-atual\').html().stripHTMLSpace()); return false;"><span aria-hidden="true">&nbsp;<i class="fa fa-upload"></i>&nbsp;</span></button><i class="fa '+j+'"></i><span id="log-atual">'+l+"</span></div>";$("#"+g+"_log").html(d);$('[data-toggle="tooltip"]').tooltip()}}$("#alterar-funcao-dados").html('<i class="fa fa-arrow-circle-left"></i>&nbsp;Cancelar').prop("disabled",false)},"json")}else{$("#dados_funcao").prop("readonly",true).val($("#dados_funcao_nome_anterior").val()).css({"background-color":"#ffffe5"});$(this).removeClass("cancelar").addClass("alterar").removeClass("btn-warning").addClass("btn-default").html('<i class="fa fa-edit"></i>&nbsp;Alterar');$("#dados_funcao_is_alterar_nome").val("0")}});if(abAtual<5||abAtual==9){$("#btn_adicionar_ali").on("click",function(){exibeModalForm("dados",title_ali_inc,"ALI",$(this)[0],"ad");$("#dados_fe").prop("disabled",false);$("#is-crud").bootstrapToggle("enable").bootstrapToggle("off");$("#is-crud-atualizar-dependentes").bootstrapToggle("enable").bootstrapToggle("off");isCRUD=true;estabeleceQuantidadeEntregas("dados");$("#dados_funcao").prop("readonly",false)});$("#btn_adicionar_aie").on("click",function(){exibeModalForm("dados",title_aie_inc,"AIE",$(this)[0],"ad");$("#dados_fe").val(0).prop("disabled",true);$("#is-crud").bootstrapToggle("off").bootstrapToggle("disable");$("#is-crud-atualizar-dependentes").bootstrapToggle("off").bootstrapToggle("disable");isCRUD=false;estabeleceQuantidadeEntregas("dados");$("#dados_funcao").prop("readonly",false)});$("#btn_adicionar_ee").on("click",function(){exibeModalForm("transacao",title_ee_inc,"EE",$(this)[0],"ad");estabeleceQuantidadeEntregas("transacao")});$("#btn_adicionar_se").on("click",function(){exibeModalForm("transacao",title_se_inc,"SE",$(this)[0],"ad");estabeleceQuantidadeEntregas("transacao")});$("#btn_adicionar_ce").on("click",function(){exibeModalForm("transacao",title_ce_inc,"CE",$(this)[0],"ad");estabeleceQuantidadeEntregas("transacao")});$("#btn_adicionar_ou").on("click",function(){exibeModalForm("outros",title_ou_inc,"OU",$(this)[0],"ad");estabeleceQuantidadeEntregas("outros")});$("#transacao_btn_al").on("click",function(){alteraFuncaoTransacao($(this))});$("#transacao_btn_if").on("click",function(){var a=insereFuncaoTransacao($(this)[0]);if(a){$(this).attr("data-dismiss","modal");swal("Dimension","O registro foi inserido com sucesso!","success")}else{$(this).attr("data-dismiss","")}});$("#transacao_btn_in").on("click",function(){var a=insereFuncaoTransacao($(this)[0]);if(a){swal("Dimension","O registro foi inserido com sucesso!","success")}});$("#dados_btn_al").on("click",function(){alteraFuncaoDados($(this))});$("#dados_btn_if").on("click",function(){var a=insereFuncaoDados($(this)[0]);if(a){$(this).attr("data-dismiss","modal");swal("Dimension","O registro foi inserido com sucesso!","success")}else{$(this).attr("data-dismiss","")}});$("#dados_btn_in").on("click",function(){var a=insereFuncaoDados($(this)[0]);if(a){swal("Dimension","O registro foi inserido com sucesso!","success")}});$("#outros_btn_al").on("click",function(){alteraFuncaoOutros($(this))});$("#outros_btn_if").on("click",function(){var a=insereFuncaoOutros($(this)[0]);if(a){$(this).attr("data-dismiss","modal");swal("Dimension","O registro foi inserido com sucesso!","success")}});$("#outros_btn_in").on("click",function(){var a=insereFuncaoOutros($(this)[0]);if(a){swal("Dimension","O registro foi inserido com sucesso!","success")}});$("#dados_id_roteiro").on("change",function(){if(acForms!=="al"){limpaCampos("dados",false,acForms);if(abAtual==3){$("#dados_operacao").val("I");destacaBotao("dados","_op",["btn-success","btn-default","btn-default","btn_default"])}else{if(abAtual==2&&$("#dados_tabela").val()==="AIE"){$("#dados_op2").prop("disabled",true)}}if($("#dados_operacao").val()!==""){verificaOperacao("dados",$("#dados_operacao").val(),$(this).val(),0,$("#dados_tabela").val(),acForms)}}else{if(acForms==="al"){var h=$(this).val();var k="dados";var j=0;var c=$("#dados_tabela").val();var g=$("#dados_operacao").val();var d="al";comboFatorImpacto(h,k,j,c,g,d)}}});$("#transacao_id_roteiro").on("change",function(){if(acForms!=="al"){limpaCampos("transacao",false,acForms);if(abAtual==3){$("#transacao_operacao").val("I");destacaBotao("transacao","_op",["btn-success","btn-default","btn-default","btn-default"])}if($("#transacao_operacao").val()!==""){verificaOperacao("transacao",$("#transacao_operacao").val(),$(this).val(),0,$("#transacao_tabela").val(),acForms)}}else{if(acForms==="al"){var h=$(this).val();var k="transacao";var j=0;var c=$("#transacao_tabela").val();var g=$("#transacao_operacao").val();var d="al";comboFatorImpacto(h,k,j,c,g,d)}}});$("#outros_id_roteiro").on("change",function(){limpaCampos("outros",false,acForms);if(abAtual==3){$("#outros_operacao").val("I");destacaBotao("outros","_op",["btn-success","btn-default","btn-default","btn-default"])}if($("#outros_operacao").val()!==""){verificaOperacao("outros",$("#outros_operacao").val(),$(this).val(),0,$("#outros_tabela").val(),acForms)}});$("#dados_op1").on("click",function(){$("#dados_tabela").val()==="ALI"?$("#is-criar-crud").bootstrapToggle("enable"):$("#is-criar-crud").bootstrapToggle("disable");verificaOperacao("dados",$(this).val(),$("#dados_id_roteiro").val(),0,$("#dados_tabela").val(),acForms)});$("#dados_op2").on("click",function(){$("#is-criar-crud").bootstrapToggle("disable");verificaOperacao("dados",$(this).val(),$("#dados_id_roteiro").val(),0,$("#dados_tabela").val(),acForms)});$("#dados_op3").on("click",function(){$("#is-criar-crud").bootstrapToggle("disable");verificaOperacao("dados",$(this).val(),$("#dados_id_roteiro").val(),0,$("#dados_tabela").val(),acForms)});$("#dados_op4").on("click",function(){$("#is-criar-crud").bootstrapToggle("disable");verificaOperacao("dados",$(this).val(),$("#dados_id_roteiro").val(),0,$("#dados_tabela").val(),acForms)});$("#transacao_op1").on("click",function(){verificaOperacao("transacao",$(this).val(),$("#transacao_id_roteiro").val(),0,$("#transacao_tabela").val(),acForms)});$("#transacao_op2").on("click",function(){verificaOperacao("transacao",$(this).val(),$("#transacao_id_roteiro").val(),0,$("#transacao_tabela").val(),acForms)});$("#transacao_op3").on("click",function(){verificaOperacao("transacao",$(this).val(),$("#transacao_id_roteiro").val(),0,$("#transacao_tabela").val(),acForms)});$("#transacao_op4").on("click",function(){verificaOperacao("transacao",$(this).val(),$("#transacao_id_roteiro").val(),0,$("#transacao_tabela").val(),acForms)});$("#outros_op1").on("click",function(){verificaOperacao("outros",$(this).val(),$("#outros_id_roteiro").val(),0,$("#outros_tabela").val(),acForms)});$("#outros_op2").on("click",function(){verificaOperacao("outros",$(this).val(),$("#outros_id_roteiro").val(),0,$("#outros_tabela").val(),acForms)});$("#outros_op3").on("click",function(){verificaOperacao("outros",$(this).val(),$("#outros_id_roteiro").val(),0,$("#outros_tabela").val(),acForms)});$("#dados_fd").on("change",function(){calculaPfa($("#dados_impacto"),$("#dados_pfb"),$("#dados_pfa"),"dados",0)});$("#transacao_fd").on("change",function(){calculaPfa($("#transacao_impacto"),$("#transacao_pfb"),$("#transacao_pfa"),"transacao",0)});$("#id_fator_tecnologia").on("change",function(){var a=($("#id_fator_tecnologia option:selected").text()).split("-")[0];$("#valor_fator_tecnologia").html(parseFloat(a).toFixed(3));if($("#transacao_impacto option:selected").val()!=="0"){calculaPfa($("#transacao_impacto"),$("#transacao_pfb"),$("#transacao_pfa"),"transacao",0)}});$("#dados_fe").on("change",function(){calculaPfa($("#dados_impacto"),$("#dados_pfb"),$("#dados_pfa"),"dados",$(this).val())});$("#dados_me1").on("click",function(){verificaMetodo("dados",$(this),$("#dados_id_roteiro"),$("#dados_operacao"))});$("#dados_me2").on("click",function(){verificaMetodo("dados",$(this),$("#dados_id_roteiro"),$("#dados_operacao"))});$("#dados_me3").on("click",function(){verificaMetodo("dados",$(this),$("#dados_id_roteiro"),$("#dados_operacao"))});$("#transacao_me1").on("click",function(){verificaMetodo("transacao",$(this),$("#transacao_id_roteiro"),$("#transacao_operacao"))});$("#transacao_me2").on("click",function(){verificaMetodo("transacao",$(this),$("#transacao_id_roteiro"),$("#transacao_operacao"))});$("#transacao_me3").on("click",function(){verificaMetodo("transacao",$(this),$("#transacao_id_roteiro"),$("#transacao_operacao"))});$("#form_modal_funcao_dados").on("hidden.bs.modal",function(){limpaCampos("dados",true,"ad");autorizaAlteracaoCamposLinha(true,"dados")});$("#form_modal_funcao_transacao").on("hidden.bs.modal",function(){limpaCampos("transacao",true,"ad");autorizaAlteracaoCamposLinha(true,"transacao")});$("#form_modal_funcao_outros").on("hidden.bs.modal",function(){limpaCampos("outros",true,"ad");autorizaAlteracaoCamposLinha(true,"outros")});$("#dados-percentual-fase").on("keyup",function(a){if(Number($(this).val())==0){$(this).val("")}else{if(Number($(this).val())>100){$(this).val(100)}}if($("#dados_impacto").val()==0){swal({title:"Alerta",text:"Por favor, selecione o Fator de Impacto antes de digitar o percentual de conclusão da fase.",type:"error",html:true,confirmButtonText:"Entendi, obrigado!"},function(){return false});$(this).val("")}else{calculaPfa($("#dados_impacto"),$("#dados_pfb"),$("#dados_pfa"),"qnqbf".dScr(),$("#dados_fe").val())}});$("#transacao-percentual-fase").on("keyup",function(a){if(Number($(this).val())==0){$(this).val("")}else{if(Number($(this).val())>100){$(this).val(100)}}if($("#transacao_impacto").val()==0){swal({title:"Alerta",text:"Por favor, selecione o Fator de Impacto antes de digitar o percentual de conclusão da fase.",type:"error",html:true,confirmButtonText:"Entendi, obrigado!"},function(){return false});$(this).val("")}else{calculaPfa($("#transacao_impacto"),$("#transacao_pfb"),$("#transacao_pfa"),"genafnpnb".dScr(),0)}});$("#dados-fase").on("change",function(){if(Number($(this).val())==0){$("#dados-percentual-fase").val("").prop("readonly",true)}else{$("#dados-percentual-fase").prop("readonly",false).val("").get(0).focus()}Number($("#dados_impacto").val())!=0?calculaPfa($("#dados_impacto"),$("#dados_pfb"),$("#dados_pfa"),"qnqbf".dScr(),$("#dados_fe").val()):null});$("#transacao-fase").on("change",function(){if(Number($(this).val())==0){$("#transacao-percentual-fase").val("").prop("readonly",true)}else{$("#transacao-percentual-fase").prop("readonly",false).val("").get(0).focus()}Number($("#transacao_impacto").val())!=0?calculaPfa($("#transacao_impacto"),$("#transacao_pfb"),$("#transacao_pfa"),"genafnpnb".dScr(),0):null});$("#dados-is-mudanca").on("change",function(){if($(this).prop("checked")){$("#dados-fase").prop("disabled",false).get(0).focus()}else{$("#dados-fase").prop("disabled",true).val(0);$("#dados-percentual-fase").prop("readonly",true).val("")}Number($("#dados_impacto").val())!=0?calculaPfa($("#dados_impacto"),$("#dados_pfb"),$("#dados_pfa"),"qnqbf".dScr(),$("#dados_fe").val()):null});$("#transacao-is-mudanca").on("change",function(){if($(this).prop("checked")){$("#transacao-fase").prop("disabled",false).get(0).focus()}else{$("#transacao-fase").prop("disabled",true).val(0);$("#transacao-percentual-fase").prop("readonly",true).val("")}Number($("#transacao_impacto").val())!=0?calculaPfa($("#transacao_impacto"),$("#transacao_pfb"),$("#transacao_pfa"),"genafnpnb".dScr(),0):null});$("#dados_impacto").on("change",function(){detalheItem($(this).val(),"qnqbf".dScr());if(Number($(this).val())==0){$("#dados_pfa").val("");$("#dados-is-mudanca").bootstrapToggle("off").bootstrapToggle("disable");$("#dados-fase").prop("disabled",true).val(0);$("#dados-percentual-fase").val("").prop("readonly",true);$("#dados_fd").val("0.00").prop("disabled",true);$("#dados_fe").val(0)}else{if($("#dados_operacao").val()==="A"||$("#dados_operacao").val()==="E"){$("#dados-is-mudanca").bootstrapToggle("enable").bootstrapToggle("off");$("#dados_fd").val("0.00").prop("disabled",false)}calculaPfa($(this),$("#dados_pfb"),$("#dados_pfa"),"qnqbf".dScr(),$("#dados_fe").val())}});$("#transacao_impacto").on("change",function(){detalheItem($(this).val(),"genafnpnb".dScr());if(Number($(this).val())===0){$("#transacao_pfa").val("");$("#transacao-is-mudanca").bootstrapToggle("off").bootstrapToggle("disable");$("#transacao-fase").val(0).prop("disabled",true);$("#transacao-percentual-fase").val("").prop("readonly",true);$("#transacao_fd").val("0.00").prop("disabled",true)}else{if($("#transacao_operacao").val()==="A"||$("#transacao_operacao").val()==="E"){$("#transacao-is-mudanca").bootstrapToggle("enable").bootstrapToggle("off");$("#transacao_fd").val("0.00").prop("disabled",false)}calculaPfa($(this),$("#transacao_pfb"),$("#transacao_pfa"),"genafnpnb".dScr(),0)}});$("#outros_impacto").on("change",function(){detalheItem($(this).val(),"outros");if(Number($(this).val())===0){$("#outros_pfa").val("");return false}else{calculaPfa($(this),$("#outros_pfa")[0],$("#outros_pfa")[0],"outros",0)}});$("#outros_qtd").on("keyup",function(){if(Number($("#outros_impacto").val())!==0&&$(this).val()!=""){calculaPfa($("#outros_impacto")[0],$("#outros_pfa")[0],$("#outros_pfa")[0],"outros",0)}else{if($(this).val()===""){$("#outros_pfa").val("")}}});$("#dados_observacoes").charCount({allowed:3000,warning:100});$("#transacao_observacoes").charCount({allowed:3000,warning:100});$("#outros_observacoes").charCount({allowed:3000,warning:100});$("#outros_observacoes_validacao").charCount({allowed:3000,warning:100});$("#dados_tr").mask("000");$("#dados_td").mask("000");$("#transacao_ar").mask("000");$("#transacao_td").mask("000");$("#outros_qtd").mask("0000");jQuery("#dados_descricao_td").tagsManager({blinkBGColor_1:"#FFFF9C",blinkBGColor_2:"#CDE69C",tagCloseIcon:'<i class="fa fa-times-circle"></i>',deleteTagsOnBackspace:true,isInserirTR:true}).on("tm:pushed",function(c,a,b){var d=$(this).tagsManager("tags");if(Number($("#dados_metodo").val())==3){calculaLinhaPFDetalhada(d,"dados","td",$("#dados_tabela").val())}}).on("tm:popped",function(c,a){var d=$(this).tagsManager("tags");var b;if($("#dados_funcao").is("input")){b=$("#dados_funcao").val()}else{b=$("#dados_funcao").find("option:selected").text();b=b.split(" > ");b=b[5]}if(abAtual==2||abAtual==3){verificaIntegridadeTD(b,idContagem,$("#dados_tabela").val(),$("#contagem_id_baseline").val(),a)}if(Number($("#dados_metodo").val())==3){calculaLinhaPFDetalhada(d,"dados","td",$("#dados_tabela").val())}}).on("tm:spliced",function(b,a){var c=$(this).tagsManager("tags");if($("#dados_funcao").is("input")){funcao=$("#dados_funcao").val()}else{funcao=$("#dados_funcao").find("option:selected").text();funcao=funcao.split(" > ");funcao=funcao[5]}if(abAtual==2||abAtual==3){verificaIntegridadeTD(funcao,idContagem,$("#dados_tabela").val(),$("#contagem_id_baseline").val(),a)}if(Number($("#dados_metodo").val())==3){calculaLinhaPFDetalhada(c,"dados","td",$("#dados_tabela").val())}});jQuery("#dados_descricao_tr").tagsManager({blinkBGColor_1:"#FFFF9C",blinkBGColor_2:"#CDE69C",tagCloseIcon:'<i class="fa fa-times-circle"></i>'}).on("tm:pushed",function(b,a){var c=$(this).tagsManager("tags");if(Number($("#dados_metodo").val())==3){calculaLinhaPFDetalhada(c,"dados","tr",$("#dados_tabela").val())}}).on("tm:popped",function(b,a){var c=$(this).tagsManager("tags");if(Number($("#dados_metodo").val())==3){calculaLinhaPFDetalhada(c,"dados","tr",$("#dados_tabela").val())}}).on("tm:spliced",function(b,a){var c=$(this).tagsManager("tags");if(Number($("#dados_metodo").val())==3){calculaLinhaPFDetalhada(c,"dados","tr",$("#dados_tabela").val())}});jQuery("#transacao_descricao_ar").tagsManager({blinkBGColor_1:"#FFFF9C",blinkBGColor_2:"#CDE69C",tagCloseIcon:'<i class="fa fa-times-circle"></i>'}).on("tm:pushed",function(b,a){if(validaTag("AR",a)){var c=$(this).tagsManager("tags");if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","ar",$("#transacao_tabela").val())}atualizaComboPaste(c)}}).on("tm:popped",function(b,a){var c=$(this).tagsManager("tags");verificaTDSInseridos(a);if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","ar",$("#transacao_tabela").val())}atualizaComboPaste(c)}).on("tm:spliced",function(b,a){var c=$(this).tagsManager("tags");verificaTDSInseridos(a);if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","ar",$("#transacao_tabela").val())}atualizaComboPaste(c)});jQuery("#transacao_descricao_td").tagsManager({blinkBGColor_1:"#FFFF9C",blinkBGColor_2:"#CDE69C",tagCloseIcon:'<i class="fa fa-times-circle"></i>'}).on("tm:pushed",function(b,a){if(validaTag("TD",a)){var c=$(this).tagsManager("tags");if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","td",$("#transacao_tabela").val())}}}).on("tm:popped",function(b,a){var c=$(this).tagsManager("tags");if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","td",$("#transacao_tabela").val())}}).on("tm:spliced",function(b,a){var c=$(this).tagsManager("tags");if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","td",$("#transacao_tabela").val())}}).on("tm:emptied",function(b,a){var c=$(this).tagsManager("tags");if(Number($("#transacao_metodo").val())==3){calculaLinhaPFDetalhada(c,"transacao","td",$("#transacao_tabela").val())}});$("#fixALI").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#fixAIE").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#fixEE").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#fixSE").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#fixCE").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#fixOU").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#fixFiles").floatThead({scrollingTop:54,useAbsolutePositioning:true});$("#select-ALI").on("click",function(){selecionaLinhasValidacao("ALI",$(this))});$("#select-AIE").on("click",function(){selecionaLinhasValidacao("AIE",$(this))});$("#select-EE").on("click",function(){selecionaLinhasValidacao("EE",$(this))});$("#select-SE").on("click",function(){selecionaLinhasValidacao("SE",$(this))});$("#select-CE").on("click",function(){selecionaLinhasValidacao("CE",$(this))});$("#select-OU").on("click",function(){selecionaLinhasValidacao("OU",$(this))});$("#btn_validar_ALI").on("click",function(){validarFuncao("ali",arrValidaALI,"validar")});$("#btn_validar_AIE").on("click",function(){validarFuncao("aie",arrValidaAIE,"validar")});$("#btn_validar_EE").on("click",function(){validarFuncao("ee",arrValidaEE,"validar")});$("#btn_validar_SE").on("click",function(){validarFuncao("se",arrValidaSE,"validar")});$("#btn_validar_CE").on("click",function(){validarFuncao("ce",arrValidaCE,"validar")});$("#btn_validar_OU").on("click",function(){validarFuncao("ou",arrValidaOU,"validar")});$("#btn_revisar_ALI").on("click",function(){validarFuncao("ali",arrValidaALI,"revisar")});$("#btn_revisar_AIE").on("click",function(){validarFuncao("aie",arrValidaAIE,"revisar")});$("#btn_revisar_EE").on("click",function(){validarFuncao("ee",arrValidaEE,"revisar")});$("#btn_revisar_SE").on("click",function(){validarFuncao("se",arrValidaSE,"revisar")});$("#btn_revisar_CE").on("click",function(){validarFuncao("ce",arrValidaCE,"revisar")});$("#btn_revisar_OU").on("click",function(){validarFuncao("ou",arrValidaOU,"revisar")})}else{if(abAtual==5){$("#fixDO").floatThead({scrollingTop:54,useAbsolutePositioning:true})}}$(function(){var c=location.hash;var b=c.split(":");var a=b[0]?$("[href="+b[0]+"]"):null;a&&a.tab("show");idLinhaFuncao=b[1]});idRoteiro=getVar("rot");if(ac==="al"||ac==="vi"||ac==="ve"||ac==="ai"||ac==="ae"||ac==="vw"||ac==="re"){$.post("/pf/DIM.Gateway.php",{id:idContagem,ac:ac,ab:abAtual,arq:40,tch:1,sub:-1,dlg:1},function(a){if(a.alerta){swal({title:"Alerta",text:a.msg,type:"error",html:true,confirmButtonText:"Ok, entendi!"},function(){self.location.href="/pf/DIM.Gateway.php?arq=3&tch=2&sub=-1&dlg=1"})}else{comboCliente("contagem",a[0].idCliente,"01",a[0].idFornecedor);if(abAtual==3){$("#contagem_id_contrato").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_projeto").empty().append('<option value="0">---</option>').prop("disabled",true);$("#id-orgao").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_baseline").prop("disabled",false);comboBaseline(a[0].idBaseline,"01",$("#contagem_id_baseline"),0)}else{if(abAtual==4){$("#contagem_id_contrato").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_projeto").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_baseline").empty().append('<option value="0">---</option>').prop("disabled",true);$("#id-orgao").empty().append('<option value="0">---</option>').prop("disabled",true)}else{if(Number(isContagemAuditoria)==1){comboContrato(a[0].idCliente,"01",a[0].idContrato,0,"contagem",1);comboProjeto(a[0].idContrato,"01",a[0].idProjeto,"contagem")}else{comboCliente("contagem",a[0].idCliente,"01",a[0].idFornecedor);comboContrato(a[0].idCliente,"01",a[0].idContrato,0,"contagem",0);comboProjeto(a[0].idContrato,"01",a[0].idProjeto,"contagem")}$("#contagem_id_baseline").empty().append('<option value="0">---</option>').prop("disabled",true)}}(abAtual==2||abAtual==3)?comboBaseline(a[0].idBaseline,"01",$("#contagem_id_baseline")):null;comboFatorTecnologia(0,$("#id_fator_tecnologia"),a[0].idCliente);comboOrgao("01",a[0].idOrgao,a[0].idCliente,$("#id-orgao"));comboLinguagem("01",a[0].idLinguagem,$("#id_linguagem"),a[0].idCliente);comboTipoContagem("01",a[0].idTipoContagem,$("#id_tipo_contagem"));comboProcesso("01",a[0].idProcesso,$("#id_processo"));comboEtapa("01",a[0].idEtapa,$("#id_etapa"));idEtapa=a[0].idEtapa;if(a[0].idEtapa==3){$("#li-ee").addClass("disabled");$("#li-se").addClass("disabled");$("#li-ce").addClass("disabled");$("#li-ou").addClass("disabled");$("#btn-pesquisar-ali").prop("disabled",true);$("#btn-pesquisar-aie").prop("disabled",true);$("#btn_adicionar_ali").prop("disabled",true);$("#btn_adicionar_aie").prop("disabled",true)}else{$("#li-ee").removeClass("disabled");$("#li-se").removeClass("disabled");$("#li-ce").removeClass("disabled");$("#li-ou").removeClass("disabled");if(abAtual==3){$("#btn-pesquisar-ali").prop("disabled",true);$("#btn-pesquisar-ee").prop("disabled",true);$("#btn-pesquisar-se").prop("disabled",true);$("#btn-pesquisar-ce").prop("disabled",true)}else{$("#btn-pesquisar-ali").prop("disabled",false);$("#btn-pesquisar-aie").prop("disabled",false);$("#btn_adicionar_ali").prop("disabled",false);$("#btn_adicionar_aie").prop("disabled",false)}}comboIndustria("01",a[0].idIndustria,$("#id_industria"));comboProcessoGestao("01",a[0].idProcessoGestao,$("#id_processo_gestao"));comboBancoDados("01",a[0].idBancoDados,$("#id_banco_dados"),a[0].idCliente);verificaProdutividade(a[0].idLinguagem);$("#id").val(a[0].id);$("#proposito").val(a[0].proposito);$("#escopo").val(a[0].escopo);$("#entregas").val(a[0].entregas);qtdEntregas=a[0].entregas;$("#ordem_servico").val(a[0].ordemServico);$("#id_abrangencia").val(a[0].idAbrangencia);$("#nome_gerente_projeto").val(a[0].nomeGerenteProjeto);$("#gerente_projeto").val(a[0].gerenteProjeto);$("#data_cadastro").val(a[0].dataCadastro);$("#responsavel").val(a[0].responsavel);$("#span_btn_contagem").html("Atualizar informa&ccedil&otilde;es");$("#privacidade").bootstrapToggle(a[0].privacidade==0?"off":"on").bootstrapToggle(isFornecedor?"disable":"enable");$("#acao").val(ac);if(ac==="re"){$("#email-validador").val(a[0].contagemIdProcesso==8?a[0].validadorInterno:a[0].validadorExterno);$("#contagem-id-processo").val(a[0].contagemIdProcesso)}if(ac==="vi"||ac==="ve"||ac==="ai"||ac==="ae"||ac==="vw"){$("#li-fin").addClass("disabled")}else{$("#li-fin").removeClass("disabled")}if(a[0].validadorInterno!==""){if(a[0].validadorInterno!==emailLogado){if(a[0].isProcessoValidacaoInterna){$("#btn-validador-selecionado").css({visibility:"hidden"});$("#div-validador").css({visibility:"visible"});consultaGravatar(a[0].validadorInterno,"#img-validador");$("#validador-selecionado").html("Esta contagem est&aacute; sendo validada internamente por: <u>"+a[0].validadorInterno+"</u>")}else{$("#btn-validador-selecionado").css({visibility:"hidden"});$("#div-validador").css({visibility:"visible"});consultaGravatar(a[0].validadorInterno,"#img-validador");$("#validador-selecionado").html("Esta contagem foi validada internamente por: <u>"+a[0].validadorInterno+"</u>")}}}else{if(a[0].validadorExterno!==""){if(a[0].validadorExterno!==emailLogado){if(a[0].isProcessoValidacaoExterna){$("#btn-validador-selecionado").css({visibility:"hidden"});$("#div-validador").css({visibility:"visible"});consultaGravatar(a[0].validadorExterno,"#img-validador");$("#validador-selecionado").html("Esta contagem est&aacute; sendo validada externamente por: <u>"+a[0].validadorExterno+"</u>")}else{$("#btn-validador-selecionado").css({visibility:"hidden"});$("#div-validador").css({visibility:"visible"});consultaGravatar(a[0].validadorExterno,"#img-validador");$("#validador-selecionado").html("Esta contagem foi validada externamente por: <u>"+a[0].validadorExterno+"</u>")}}}}isAutorizadoAlterar=a[0].isAutorizadoAlterar;isAutorizadoValidarInternamente=a[0].isAutorizadoValidarInternamente;isValidadaInternamente=a[0].isValidadaInternamente;isAutorizadoRevisar=a[0].isAutorizadoRevisar;if(abAtual!=5){comboRoteiro("dados","01",idRoteiro,0);comboRoteiro("transacao","01",idRoteiro,0);comboRoteiro("outros","01",idRoteiro,0);$("#escala-produtividade").val(a[0].escalaProdutividade);$("#produtividade-baixa").val(a[0].produtividadeBaixa);$("#produtividade-media").val(a[0].produtividadeMedia);$("#produtividade-alta").val(a[0].produtividadeAlta);if(Number(a[0].isProdutividadeLinguagem)===1){$("#chk_produtividade_global").bootstrapToggle("off").bootstrapToggle("disable");$("#chk-produtividade-linguagem").bootstrapToggle("enable").bootstrapToggle("on");$(".escala").prop("disabled",false);alteraEscalaProdutividade($("#escala-produtividade").val());isLinguagem=true;isGlobal=false;config_isEng?$("#prod-eng").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)).prop("readonly",true):null;config_isDes?$("#prod-des").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)).prop("readonly",true):null;config_isImp?$("#prod-imp").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)).prop("readonly",true):null;config_isTes?$("#prod-tes").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)).prop("readonly",true):null;config_isHom?$("#prod-hom").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)).prop("readonly",true):null;config_isImpl?$("#prod-impl").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)).prop("readonly",true):null}else{$("#chk_produtividade_global").bootstrapToggle(Number(a[0].chkProdutividadeGlobal)===1?"on":"off").bootstrapToggle("enable");$("#chk-produtividade-linguagem").bootstrapToggle("off").bootstrapToggle(Number(a[0].chkProdutividadeGlobal)===1?"disable":"enable");$(".escala").prop("disabled",true);$("#escala-produtividade").val("media");alteraEscalaProdutividade("media");isLinguagem=false;isGlobal=Number(a[0].chkProdutividadeGlobal)===1?true:false;config_isEng?$("#prod-eng").val(parseFloat(a[0].prodEng).toFixed(2)).prop("readonly",(a[0].chkEng&&Number(a[0].chkProdutividadeGlobal)===0)?false:true):null;config_isDes?$("#prod-des").val(parseFloat(a[0].prodDes).toFixed(2)).prop("readonly",(a[0].chkDes&&Number(a[0].chkProdutividadeGlobal)===0)?false:true):null;config_isImp?$("#prod-imp").val(parseFloat(a[0].prodImp).toFixed(2)).prop("readonly",(a[0].chkImp&&Number(a[0].chkProdutividadeGlobal)===0)?false:true):null;config_isTes?$("#prod-tes").val(parseFloat(a[0].prodTes).toFixed(2)).prop("readonly",(a[0].chkTes&&Number(a[0].chkProdutividadeGlobal)===0)?false:true):null;config_isHom?$("#prod-hom").val(parseFloat(a[0].prodHom).toFixed(2)).prop("readonly",(a[0].chkHom&&Number(a[0].chkProdutividadeGlobal)===0)?false:true):null;config_isImpl?$("#prod-impl").val(parseFloat(a[0].prodImpl).toFixed(2)).prop("readonly",(a[0].chkImpl&&Number(a[0].chkProdutividadeGlobal)===0)?false:true):null}$("#produtividade_global").html(a[0].produtividadeGlobal);$("#previsao_inicio").val(a[0].previsaoInicio);$("#div_previsao_termino").val(a[0].previsaoTermino);$("#hlt").html(a[0].hlt);$("#span-ft").html(Number(a[0].ft).toFixed(2));$("#chk-ft").bootstrapToggle(Number(a[0].isFt)===1?"on":"off");Number(a[0].isFt)===1?" - <strong>FT: "+Number($("#span-ft").html()).toFixed(2)+"</strong>":"";config_isEng?$("#chk-eng").bootstrapToggle(a[0].chkEng?"on":"off"):null;config_isEng?$("#pct-eng").html(a[0].pctEng):null;config_isEng?(Number(a[0].isProdutividadeLinguagem)===1?$("#prod-eng").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)):$("#prod-eng").val(a[0].prodEng)):null;config_isEng?$("#prof-eng").val(a[0].profEng):null;for(i=0;i<a[0].perfEng.length;i++){config_isEng?selectizeEng.createItem(a[0].perfEng[i]):null}config_isEng?$("#desc-f-eng").html(a[0].descFEng):null;config_isDes?$("#chk-des").bootstrapToggle(a[0].chkDes?"on":"off"):null;config_isDes?$("#pct-des").html(a[0].pctDes):null;config_isDes?(Number(a[0].isProdutividadeLinguagem)===1?$("#prod-des").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)):$("#prod-des").val(a[0].prodDes)):null;config_isDes?$("#prof-des").val(a[0].profDes):null;for(i=0;i<a[0].perfDes.length;i++){config_isDes?selectizeDes.createItem(a[0].perfDes[i]):null}config_isDes?$("#desc-f-des").html(a[0].descFDes):null;config_isImp?$("#chk-imp").bootstrapToggle(a[0].chkImp?"on":"off"):null;config_isImp?$("#pct-imp").html(a[0].pctImp):null;config_isImp?(Number(a[0].isProdutividadeLinguagem)===1?$("#prod-imp").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)):$("#prod-imp").val(a[0].prodImp)):null;config_isImp?$("#prof-imp").val(a[0].profImp):null;for(i=0;i<a[0].perfImp.length;i++){config_isImp?selectizeImp.createItem(a[0].perfImp[i]):null}config_isImp?$("#desc-f-imp").html(a[0].descFImp):null;config_isTes?$("#chk-tes").bootstrapToggle(a[0].chkTes?"on":"off"):null;config_isTes?$("#pct-tes").html(a[0].pctTes):null;config_isTes?(Number(a[0].isProdutividadeLinguagem)===1?$("#prod-tes").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)):$("#prod-tes").val(a[0].prodTes)):null;config_isTes?$("#prof-tes").val(a[0].profTes):null;for(i=0;i<a[0].perfTes.length;i++){config_isTes?selectizeTes.createItem(a[0].perfTes[i]):null}config_isTes?$("#desc-f-tes").html(a[0].descFTes):null;config_isHom?$("#chk-hom").bootstrapToggle(a[0].chkHom?"on":"off"):null;config_isHom?$("#pct-hom").html(a[0].pctHom):null;config_isHom?(Number(a[0].isProdutividadeLinguagem)===1?$("#prod-hom").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)):$("#prod-hom").val(a[0].prodHom)):null;config_isHom?$("#prof-hom").val(a[0].profHom):null;for(i=0;i<a[0].perfHom.length;i++){config_isHom?selectizeHom.createItem(a[0].perfHom[i]):null}isHom?$("#desc-f-hom").html(a[0].descFHom):null;config_isImpl?$("#chk-impl").bootstrapToggle(a[0].chkImpl?"on":"off"):null;config_isImpl?$("#pct-impl").html(a[0].pctImpl):null;config_isImpl?(Number(a[0].isProdutividadeLinguagem)===1?$("#prod-impl").val(parseFloat($("#produtividade-"+a[0].escalaProdutividade).val()).toFixed(2)):$("#prod-impl").val(a[0].prodImpl)):null;config_isImpl?$("#prof-impl").val(a[0].profImpl):null;for(i=0;i<a[0].perfImpl.length;i++){config_isImpl?selectizeImpl.createItem(a[0].perfImpl[i]):null}config_isImpl?$("#desc-f-impl").html(a[0].descFImpl):null;$("input[name=expoente]").val([a[0].expoente]);$("#calculado").html(a[0].calculado);$("#tempo-desenvolvimento").html(a[0].tempoDesenvolvimento);$("#regiao-impossivel").html(a[0].regiaoImpossivel);$("#menor-custo").html(a[0].menorCusto);$("#hpc").val(a[0].hpc);$("#hpa").val(a[0].hpa);$("#valor-hpc").val(a[0].valorHpc);$("#valor-hpa").val(a[0].valorHpa);$("#custo-total").html(a[0].custoTotal);$("#valor-pfa-contrato").val(a[0].valorPfaContrato);if(Number(a[0].tipoProjeto)===5){$("#chk-solicitacao-servico-critica").bootstrapToggle("on")}else{$("#chk-solicitacao-servico-critica").bootstrapToggle("off")}switch(Number(a[0].tipoProjeto)){case 1:config_aumentoEsforco=parseFloat(1).toFixed(2);config_fatorReducaoCronograma=parseFloat(1).toFixed(2);$("#span-tipo-projeto").html("Projeto Padr&atilde;o => 1,00");break;case 2:config_aumentoEsforco=parseFloat(1.2).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.9).toFixed(2);$("#span-tipo-projeto").html("Projeto Urgente => 1,20");break;case 3:config_aumentoEsforco=parseFloat(1.5).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.8).toFixed(2);$("#span-tipo-projeto").html("Projeto Cr&iacute;tico => 1,50");break;case 4:config_aumentoEsforco=parseFloat(1.7).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.75).toFixed(2);$("#span-tipo-projeto").html("Projeto Alta Criticidade => 1,70");break;case 5:config_aumentoEsforco=parseFloat(1.35).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.85).toFixed(2);$("#span-tipo-projeto").html("Solicita&ccedil;&atilde;o de Servi&ccedil;o Cr&iacute;tica => 1,35");break}$("#tipo-projeto").val(a[0].tipoProjeto);$("#esforco-total").html(a[0].esforcoTotal);$("#tamanho-pfa").html(parseFloat(a[0].tamanhoPfa).toFixed(2));$("#span-produtividade-media").html(a[0].spanProdutividadeMedia);$("#COCOMO-A").val(Number(a[0].COCOMO_A).toFixed(2));$("#COCOMO-B").val(Number(a[0].COCOMO_B).toFixed(2));$("#COCOMO-C").val(Number(a[0].COCOMO_C).toFixed(2));$("#COCOMO-D").val(Number(a[0].COCOMO_D).toFixed(2));$("#"+a[0].ED_PERS).prop("checked",true);$("#"+a[0].ED_RCPX).prop("checked",true);$("#"+a[0].ED_PDIF).prop("checked",true);$("#"+a[0].ED_PREX).prop("checked",true);$("#"+a[0].ED_FCIL).prop("checked",true);$("#"+a[0].ED_RUSE).prop("checked",true);$("#"+a[0].ED_SCED).prop("checked",true);$("#"+a[0].PREC).prop("checked",true);$("#"+a[0].FLEX).prop("checked",true);$("#"+a[0].RESL).prop("checked",true);$("#"+a[0].TEAM).prop("checked",true);$("#"+a[0].PMAT).prop("checked",true);$("#"+a[0].RELY).prop("checked",true);$("#"+a[0].DATA).prop("checked",true);$("#"+a[0].CPLX_CN).prop("checked",true);$("#"+a[0].CPLX_CO).prop("checked",true);$("#"+a[0].CPLX_DO).prop("checked",true);$("#"+a[0].CPLX_DM).prop("checked",true);$("#"+a[0].CPLX_UI).prop("checked",true);$("#"+a[0].RUSE).prop("checked",true);$("#"+a[0].DOCU).prop("checked",true);$("#"+a[0].TIME).prop("checked",true);$("#"+a[0].STOR).prop("checked",true);$("#"+a[0].PVOL).prop("checked",true);$("#"+a[0].ACAP).prop("checked",true);$("#"+a[0].PCAP).prop("checked",true);$("#"+a[0].PCON).prop("checked",true);$("#"+a[0].APEX).prop("checked",true);$("#"+a[0].PLEX).prop("checked",true);$("#"+a[0].LTEX).prop("checked",true);$("#"+a[0].TOOL).prop("checked",true);$("#"+a[0].SITE).prop("checked",true);$("#"+a[0].SCED).prop("checked",true);$("#PREC-VL").val(Number(a[0].PREC_VL).toFixed(2));$("#PREC-LO").val(Number(a[0].PREC_LO).toFixed(2));$("#PREC-NO").val(Number(a[0].PREC_NO).toFixed(2));$("#PREC-HI").val(Number(a[0].PREC_HI).toFixed(2));$("#PREC-VH").val(Number(a[0].PREC_VH).toFixed(2));$("#PREC-EH").val(Number(a[0].PREC_EH).toFixed(2));$("#FLEX-VL").val(Number(a[0].FLEX_VL).toFixed(2));$("#FLEX-LO").val(Number(a[0].FLEX_LO).toFixed(2));$("#FLEX-NO").val(Number(a[0].FLEX_NO).toFixed(2));$("#FLEX-HI").val(Number(a[0].FLEX_HI).toFixed(2));$("#FLEX-VH").val(Number(a[0].FLEX_VH).toFixed(2));$("#FLEX-EH").val(Number(a[0].FLEX_EH).toFixed(2));$("#RESL-VL").val(Number(a[0].RESL_VL).toFixed(2));$("#RESL-LO").val(Number(a[0].RESL_LO).toFixed(2));$("#RESL-NO").val(Number(a[0].RESL_NO).toFixed(2));$("#RESL-HI").val(Number(a[0].RESL_HI).toFixed(2));$("#RESL-VH").val(Number(a[0].RESL_VH).toFixed(2));$("#RESL-EH").val(Number(a[0].RESL_EH).toFixed(2));$("#TEAM-VL").val(Number(a[0].TEAM_VL).toFixed(2));$("#TEAM-LO").val(Number(a[0].TEAM_LO).toFixed(2));$("#TEAM-NO").val(Number(a[0].TEAM_NO).toFixed(2));$("#TEAM-HI").val(Number(a[0].TEAM_HI).toFixed(2));$("#TEAM-VH").val(Number(a[0].TEAM_VH).toFixed(2));$("#TEAM-EH").val(Number(a[0].TEAM_EH).toFixed(2));$("#PMAT-VL").val(Number(a[0].PMAT_VL).toFixed(2));$("#PMAT-LO").val(Number(a[0].PMAT_LO).toFixed(2));$("#PMAT-NO").val(Number(a[0].PMAT_NO).toFixed(2));$("#PMAT-HI").val(Number(a[0].PMAT_HI).toFixed(2));$("#PMAT-VH").val(Number(a[0].PMAT_VH).toFixed(2));$("#PMAT-EH").val(Number(a[0].PMAT_EH).toFixed(2));$("#CPLX-CN-VL").val(Number(a[0].CPLX_CN_VL).toFixed(2));$("#CPLX-CN-LO").val(Number(a[0].CPLX_CN_LO).toFixed(2));$("#CPLX-CN-NO").val(Number(a[0].CPLX_CN_NO).toFixed(2));$("#CPLX-CN-HI").val(Number(a[0].CPLX_CN_HI).toFixed(2));$("#CPLX-CN-VH").val(Number(a[0].CPLX_CN_VH).toFixed(2));$("#CPLX-CN-EH").val(Number(a[0].CPLX_CN_EH).toFixed(2));$("#CPLX-CO-VL").val(Number(a[0].CPLX_CO_VL).toFixed(2));$("#CPLX-CO-LO").val(Number(a[0].CPLX_CO_LO).toFixed(2));$("#CPLX-CO-NO").val(Number(a[0].CPLX_CO_NO).toFixed(2));$("#CPLX-CO-HI").val(Number(a[0].CPLX_CO_HI).toFixed(2));$("#CPLX-CO-VH").val(Number(a[0].CPLX_CO_VH).toFixed(2));$("#CPLX-CO-EH").val(Number(a[0].CPLX_CO_EH).toFixed(2));$("#CPLX-DO-VL").val(Number(a[0].CPLX_DO_VL).toFixed(2));$("#CPLX-DO-LO").val(Number(a[0].CPLX_DO_LO).toFixed(2));$("#CPLX-DO-NO").val(Number(a[0].CPLX_DO_NO).toFixed(2));$("#CPLX-DO-HI").val(Number(a[0].CPLX_DO_HI).toFixed(2));$("#CPLX-DO-VH").val(Number(a[0].CPLX_DO_VH).toFixed(2));$("#CPLX-DO-EH").val(Number(a[0].CPLX_DO_EH).toFixed(2));$("#CPLX-DM-VL").val(Number(a[0].CPLX_DM_VL).toFixed(2));$("#CPLX-DM-LO").val(Number(a[0].CPLX_DM_LO).toFixed(2));$("#CPLX-DM-NO").val(Number(a[0].CPLX_DM_NO).toFixed(2));$("#CPLX-DM-HI").val(Number(a[0].CPLX_DM_HI).toFixed(2));$("#CPLX-DM-VH").val(Number(a[0].CPLX_DM_VH).toFixed(2));$("#CPLX-DM-EH").val(Number(a[0].CPLX_DM_EH).toFixed(2));$("#CPLX-UI-VL").val(Number(a[0].CPLX_UI_VL).toFixed(2));$("#CPLX-UI-LO").val(Number(a[0].CPLX_UI_LO).toFixed(2));$("#CPLX-UI-NO").val(Number(a[0].CPLX_UI_NO).toFixed(2));$("#CPLX-UI-HI").val(Number(a[0].CPLX_UI_HI).toFixed(2));$("#CPLX-UI-VH").val(Number(a[0].CPLX_UI_VH).toFixed(2));$("#CPLX-UI-EH").val(Number(a[0].CPLX_UI_EH).toFixed(2));$("#RELY-VL").val(Number(a[0].RELY_VL).toFixed(2));$("#RELY-LO").val(Number(a[0].RELY_LO).toFixed(2));$("#RELY-NO").val(Number(a[0].RELY_NO).toFixed(2));$("#RELY-HI").val(Number(a[0].RELY_HI).toFixed(2));$("#RELY-VH").val(Number(a[0].RELY_VH).toFixed(2));$("#DATA-LO").val(Number(a[0].DATA_LO).toFixed(2));$("#DATA-NO").val(Number(a[0].DATA_NO).toFixed(2));$("#DATA-HI").val(Number(a[0].DATA_HI).toFixed(2));$("#DATA-VH").val(Number(a[0].DATA_VH).toFixed(2));$("#RUSE-LO").val(Number(a[0].RUSE_LO).toFixed(2));$("#RUSE-NO").val(Number(a[0].RUSE_NO).toFixed(2));$("#RUSE-HI").val(Number(a[0].RUSE_HI).toFixed(2));$("#RUSE-VH").val(Number(a[0].RUSE_VH).toFixed(2));$("#RUSE-EH").val(Number(a[0].RUSE_EH).toFixed(2));$("#DOCU-VL").val(Number(a[0].DOCU_VL).toFixed(2));$("#DOCU-LO").val(Number(a[0].DOCU_LO).toFixed(2));$("#DOCU-NO").val(Number(a[0].DOCU_NO).toFixed(2));$("#DOCU-HI").val(Number(a[0].DOCU_HI).toFixed(2));$("#DOCU-VH").val(Number(a[0].DOCU_VH).toFixed(2));$("#TIME-NO").val(Number(a[0].TIME_NO).toFixed(2));$("#TIME-HI").val(Number(a[0].TIME_HI).toFixed(2));$("#TIME-VH").val(Number(a[0].TIME_VH).toFixed(2));$("#TIME-EH").val(Number(a[0].TIME_EH).toFixed(2));$("#STOR-NO").val(Number(a[0].STOR_NO).toFixed(2));$("#STOR-HI").val(Number(a[0].STOR_HI).toFixed(2));$("#STOR-VH").val(Number(a[0].STOR_VH).toFixed(2));$("#STOR-EH").val(Number(a[0].STOR_EH).toFixed(2));$("#PVOL-LO").val(Number(a[0].PVOL_LO).toFixed(2));$("#PVOL-NO").val(Number(a[0].PVOL_NO).toFixed(2));$("#PVOL-HI").val(Number(a[0].PVOL_HI).toFixed(2));$("#PVOL-VH").val(Number(a[0].PVOL_VH).toFixed(2));$("#ACAP-VL").val(Number(a[0].ACAP_VL).toFixed(2));$("#ACAP-LO").val(Number(a[0].ACAP_LO).toFixed(2));$("#ACAP-NO").val(Number(a[0].ACAP_NO).toFixed(2));$("#ACAP-HI").val(Number(a[0].ACAP_HI).toFixed(2));$("#ACAP-VH").val(Number(a[0].ACAP_VH).toFixed(2));$("#PCAP-VL").val(Number(a[0].PCAP_VL).toFixed(2));$("#PCAP-LO").val(Number(a[0].PCAP_LO).toFixed(2));$("#PCAP-NO").val(Number(a[0].PCAP_NO).toFixed(2));$("#PCAP-HI").val(Number(a[0].PCAP_HI).toFixed(2));$("#PCAP-VH").val(Number(a[0].PCAP_VH).toFixed(2));$("#PCON-VL").val(Number(a[0].PCON_VL).toFixed(2));$("#PCON-LO").val(Number(a[0].PCON_LO).toFixed(2));$("#PCON-NO").val(Number(a[0].PCON_NO).toFixed(2));$("#PCON-HI").val(Number(a[0].PCON_HI).toFixed(2));$("#PCON-VH").val(Number(a[0].PCON_VH).toFixed(2));$("#APEX-VL").val(Number(a[0].APEX_VL).toFixed(2));$("#APEX-LO").val(Number(a[0].APEX_LO).toFixed(2));$("#APEX-NO").val(Number(a[0].APEX_NO).toFixed(2));$("#APEX-HI").val(Number(a[0].APEX_HI).toFixed(2));$("#APEX-VH").val(Number(a[0].APEX_VH).toFixed(2));$("#PLEX-VL").val(Number(a[0].PLEX_VL).toFixed(2));$("#PLEX-LO").val(Number(a[0].PLEX_LO).toFixed(2));$("#PLEX-NO").val(Number(a[0].PLEX_NO).toFixed(2));$("#PLEX-HI").val(Number(a[0].PLEX_HI).toFixed(2));$("#PLEX-VH").val(Number(a[0].PLEX_VH).toFixed(2));$("#LTEX-VL").val(Number(a[0].LTEX_VL).toFixed(2));$("#LTEX-LO").val(Number(a[0].LTEX_LO).toFixed(2));$("#LTEX-NO").val(Number(a[0].LTEX_NO).toFixed(2));$("#LTEX-HI").val(Number(a[0].LTEX_HI).toFixed(2));$("#LTEX-VH").val(Number(a[0].LTEX_VH).toFixed(2));$("#TOOL-VL").val(Number(a[0].TOOL_VL).toFixed(2));$("#TOOL-LO").val(Number(a[0].TOOL_LO).toFixed(2));$("#TOOL-NO").val(Number(a[0].TOOL_NO).toFixed(2));$("#TOOL-HI").val(Number(a[0].TOOL_HI).toFixed(2));$("#TOOL-VH").val(Number(a[0].TOOL_VH).toFixed(2));$("#SITE-VL").val(Number(a[0].SITE_VL).toFixed(2));$("#SITE-LO").val(Number(a[0].SITE_LO).toFixed(2));$("#SITE-NO").val(Number(a[0].SITE_NO).toFixed(2));$("#SITE-HI").val(Number(a[0].SITE_HI).toFixed(2));$("#SITE-VH").val(Number(a[0].SITE_VH).toFixed(2));$("#SITE-EH").val(Number(a[0].SITE_EH).toFixed(2));$("#SCED-VL").val(Number(a[0].SCED_VL).toFixed(2));$("#SCED-LO").val(Number(a[0].SCED_LO).toFixed(2));$("#SCED-NO").val(Number(a[0].SCED_NO).toFixed(2));$("#SCED-HI").val(Number(a[0].SCED_HI).toFixed(2));$("#SCED-VH").val(Number(a[0].SCED_VH).toFixed(2));$("#ED-PERS-XL").val(Number(a[0].ED_PERS_XL).toFixed(2));$("#ED-PERS-VL").val(Number(a[0].ED_PERS_VL).toFixed(2));$("#ED-PERS-LO").val(Number(a[0].ED_PERS_LO).toFixed(2));$("#ED-PERS-NO").val(Number(a[0].ED_PERS_NO).toFixed(2));$("#ED-PERS-HI").val(Number(a[0].ED_PERS_HI).toFixed(2));$("#ED-PERS-VH").val(Number(a[0].ED_PERS_VH).toFixed(2));$("#ED-PERS-EH").val(Number(a[0].ED_PERS_EH).toFixed(2));$("#ED-RCPX-XL").val(Number(a[0].ED_RCPX_XL).toFixed(2));$("#ED-RCPX-VL").val(Number(a[0].ED_RCPX_VL).toFixed(2));$("#ED-RCPX-LO").val(Number(a[0].ED_RCPX_LO).toFixed(2));$("#ED-RCPX-NO").val(Number(a[0].ED_RCPX_NO).toFixed(2));$("#ED-RCPX-HI").val(Number(a[0].ED_RCPX_HI).toFixed(2));$("#ED-RCPX-VH").val(Number(a[0].ED_RCPX_VH).toFixed(2));$("#ED-RCPX-EH").val(Number(a[0].ED_RCPX_EH).toFixed(2));$("#ED-PDIF-LO").val(Number(a[0].ED_PDIF_LO).toFixed(2));$("#ED-PDIF-NO").val(Number(a[0].ED_PDIF_NO).toFixed(2));$("#ED-PDIF-HI").val(Number(a[0].ED_PDIF_HI).toFixed(2));$("#ED-PDIF-VH").val(Number(a[0].ED_PDIF_VH).toFixed(2));$("#ED-PDIF-EH").val(Number(a[0].ED_PDIF_EH).toFixed(2));$("#ED-PREX-XL").val(Number(a[0].ED_PREX_XL).toFixed(2));$("#ED-PREX-VL").val(Number(a[0].ED_PREX_VL).toFixed(2));$("#ED-PREX-LO").val(Number(a[0].ED_PREX_LO).toFixed(2));$("#ED-PREX-NO").val(Number(a[0].ED_PREX_NO).toFixed(2));$("#ED-PREX-HI").val(Number(a[0].ED_PREX_HI).toFixed(2));$("#ED-PREX-VH").val(Number(a[0].ED_PREX_VH).toFixed(2));$("#ED-PREX-EH").val(Number(a[0].ED_PREX_EH).toFixed(2));$("#ED-FCIL-XL").val(Number(a[0].ED_FCIL_XL).toFixed(2));$("#ED-FCIL-VL").val(Number(a[0].ED_FCIL_VL).toFixed(2));$("#ED-FCIL-LO").val(Number(a[0].ED_FCIL_LO).toFixed(2));$("#ED-FCIL-NO").val(Number(a[0].ED_FCIL_NO).toFixed(2));$("#ED-FCIL-HI").val(Number(a[0].ED_FCIL_HI).toFixed(2));$("#ED-FCIL-VH").val(Number(a[0].ED_FCIL_VH).toFixed(2));$("#ED-FCIL-EH").val(Number(a[0].ED_FCIL_EH).toFixed(2));$("#ED-RUSE-LO").val(Number(a[0].ED_RUSE_LO).toFixed(2));$("#ED-RUSE-NO").val(Number(a[0].ED_RUSE_NO).toFixed(2));$("#ED-RUSE-HI").val(Number(a[0].ED_RUSE_HI).toFixed(2));$("#ED-RUSE-VH").val(Number(a[0].ED_RUSE_VH).toFixed(2));$("#ED-RUSE-EH").val(Number(a[0].ED_RUSE_EH).toFixed(2));$("#ED-SCED-VL").val(Number(a[0].ED_SCED_VL).toFixed(2));$("#ED-SCED-LO").val(Number(a[0].ED_SCED_LO).toFixed(2));$("#ED-SCED-NO").val(Number(a[0].ED_SCED_NO).toFixed(2));$("#ED-SCED-HI").val(Number(a[0].ED_SCED_HI).toFixed(2));$("#ED-SCED-VH").val(Number(a[0].ED_SCED_VH).toFixed(2));$("#coc-esforco").html(Number(a[0].coc_esforco).toFixed(3));$("#coc-cronograma").html(Number(a[0].coc_cronograma).toFixed(3));$("#coc-custo").html(Number(a[0].coc_custo).toFixed(3));$("#coc-custo-pessoa").html(Number(a[0].coc_custo_pessoa).toFixed(2));$("#coc-sloc").html(Number(a[0].coc_sloc).toFixed(3));$("#tipo-calculo").bootstrapToggle(Number(a[0].coc_tipo_calculo)==1?"on":"off");$("#inc-ef").html(Number(0).toFixed(3));$("#inc-sc").html(Number(0).toFixed(3));$("#inc-av").html(Number(0).toFixed(3));$("#inc-co").html(Number(0).toFixed(3));$("#ela-ef").html(Number(0).toFixed(3));$("#ela-sc").html(Number(0).toFixed(3));$("#ela-av").html(Number(0).toFixed(3));$("#ela-co").html(Number(0).toFixed(3));$("#con-ef").html(Number(0).toFixed(3));$("#con-sc").html(Number(0).toFixed(3));$("#con-av").html(Number(0).toFixed(3));$("#con-co").html(Number(0).toFixed(3));$("#tra-ef").html(Number(0).toFixed(3));$("#tra-sc").html(Number(0).toFixed(3));$("#tra-av").html(Number(0).toFixed(3));$("#tra-co").html(Number(0).toFixed(3));$("#man-inc").html(Number(0).toFixed(3));$("#man-ela").html(Number(0).toFixed(3));$("#man-con").html(Number(0).toFixed(3));$("#man-tra").html(Number(0).toFixed(3));$("#env-inc").html(Number(0).toFixed(3));$("#env-ela").html(Number(0).toFixed(3));$("#env-con").html(Number(0).toFixed(3));$("#env-tra").html(Number(0).toFixed(3));$("#req-inc").html(Number(0).toFixed(3));$("#req-ela").html(Number(0).toFixed(3));$("#req-con").html(Number(0).toFixed(3));$("#req-tra").html(Number(0).toFixed(3));$("#des-inc").html(Number(0).toFixed(3));$("#des-ela").html(Number(0).toFixed(3));$("#des-con").html(Number(0).toFixed(3));$("#des-tra").html(Number(0).toFixed(3));$("#imp-inc").html(Number(0).toFixed(3));$("#imp-ela").html(Number(0).toFixed(3));$("#imp-con").html(Number(0).toFixed(3));$("#imp-tra").html(Number(0).toFixed(3));$("#ass-inc").html(Number(0).toFixed(3));$("#ass-ela").html(Number(0).toFixed(3));$("#ass-con").html(Number(0).toFixed(3));$("#ass-tra").html(Number(0).toFixed(3));$("#dep-inc").html(Number(0).toFixed(3));$("#dep-ela").html(Number(0).toFixed(3));$("#dep-con").html(Number(0).toFixed(3));$("#dep-tra").html(Number(0).toFixed(3));iWait("w_ali",true);$.post("/pf/DIM.Gateway.php",{i:idContagem,t:"ali",f:"qnqbf".dScr(),o:"id",tpo:"ASC",arq:34,tch:1,sub:-1,dlg:1},function(b){tblALI=$("#addALI")[0];for(i=0;i<b.length;i++){var c=tblALI.insertRow(-1);var f=Number(b[i].pfa);var d=Number(b[i].pfb);insereLinha(b[i].id,"ALI",c,b[i].operacao,b[i].funcao,b[i].td,b[i].tr,b[i].complexidade,d.toFixed(4),b[i].siglaFator,f.toFixed(4),b[i].obsFuncao,b[i].situacao,b[i].entrega,b[i].lido,b[i].nLido,false,b[i].isMudanca,b[i].faseMudanca,b[i].percentualFase,b[i].fd,b[i].isCrud,0,b[i].fe)}iWait("w_ali",false)},"json");iWait("w_aie",true);$.post("/pf/DIM.Gateway.php",{i:idContagem,t:"aie",f:"qnqbf".dScr(),o:"id",tpo:"ASC",arq:34,tch:1,sub:-1,dlg:1},function(b){tblAIE=$("#addAIE")[0];for(i=0;i<b.length;i++){var c=tblAIE.insertRow(-1);var f=Number(b[i].pfa);var d=Number(b[i].pfb);insereLinha(b[i].id,"AIE",c,b[i].operacao,b[i].funcao,b[i].td,b[i].tr,b[i].complexidade,d.toFixed(4),b[i].siglaFator,f.toFixed(4),b[i].obsFuncao,b[i].situacao,b[i].entrega,b[i].lido,b[i].nLido,false,b[i].isMudanca,b[i].faseMudanca,b[i].percentualFase,b[i].fd,0,0,0)}iWait("w_aie",false)},"json");iWait("w_ee",true);$.post("/pf/DIM.Gateway.php",{i:idContagem,t:"ee",f:"genafnpnb".dScr(),o:"id",tpo:"ASC",arq:34,tch:1,sub:-1,dlg:1},function(b){tblEE=$("#addEE")[0];for(i=0;i<b.length;i++){var d=tblEE.insertRow(-1);var f=Number(b[i].pfa);var c=Number(b[i].pfb);insereLinha(b[i].id,"EE",d,b[i].operacao,b[i].funcao,b[i].td,b[i].ar,b[i].complexidade,c.toFixed(4),b[i].siglaFator,f.toFixed(4),b[i].obsFuncao,b[i].situacao,b[i].entrega,b[i].lido,b[i].nLido,false,b[i].isMudanca,b[i].faseMudanca,b[i].percentualFase,b[i].fd,b[i].isCrud,0,0)}iWait("w_ee",false)},"json");iWait("w_se",true);$.post("/pf/DIM.Gateway.php",{i:idContagem,t:"se",f:"genafnpnb".dScr(),o:"id",tpo:"ASC",arq:34,tch:1,sub:-1,dlg:1},function(d){tblSE=$("#addSE")[0];for(i=0;i<d.length;i++){var b=tblSE.insertRow(-1);var f=Number(d[i].pfa);var c=Number(d[i].pfb);insereLinha(d[i].id,"SE",b,d[i].operacao,d[i].funcao,d[i].td,d[i].ar,d[i].complexidade,c.toFixed(4),d[i].siglaFator,f.toFixed(4),d[i].obsFuncao,d[i].situacao,d[i].entrega,d[i].lido,d[i].nLido,false,d[i].isMudanca,d[i].faseMudanca,d[i].percentualFase,d[i].fd,0,0,0)}iWait("w_se",false)},"json");iWait("w_ce",true);$.post("/pf/DIM.Gateway.php",{i:idContagem,t:"ce",f:"genafnpnb".dScr(),o:"id",tpo:"ASC",arq:34,tch:1,sub:-1,dlg:1},function(f){tblCE=$("#addCE")[0];for(i=0;i<f.length;i++){var b=tblCE.insertRow(-1);var d=Number(f[i].pfa);var c=Number(f[i].pfb);insereLinha(f[i].id,"CE",b,f[i].operacao,f[i].funcao,f[i].td,f[i].ar,f[i].complexidade,c.toFixed(4),f[i].siglaFator,d.toFixed(4),f[i].obsFuncao,f[i].situacao,f[i].entrega,f[i].lido,f[i].nLido,false,f[i].isMudanca,f[i].faseMudanca,f[i].percentualFase,f[i].fd,f[i].isCrud,0,0)}iWait("w_ce",false)},"json");iWait("w_ou",true);$.post("/pf/DIM.Gateway.php",{i:idContagem,t:"ou",f:"outros",arq:34,tch:1,sub:-1,dlg:1},function(d){tblOU=$("#addOU")[0];for(i=0;i<d.length;i++){var b=tblOU.insertRow(-1);var c=Number(d[i].pfa);insereLinhaOutros(d[i].id,"OU",b,d[i].operacao,d[i].funcao,d[i].qtd,d[i].siglaFator,c.toFixed(4),d[i].obsFuncao,d[i].situacao,d[i].entrega,d[i].lido,d[i].nLido,false)}iWait("w_ou",false)},"json")}autorizaAlteracaoCampos(a[0].idFornecedor,a[0].tamanhoPfa);$("#contagem_id_cliente").prop("disabled",true)}},"json");$("#span_id_contagem").html(("000000"+idContagem).slice(-6))}else{$("#contagem_id_cliente").prop("disabled",true);isFornecedor?comboCliente("contagem",idClienteContagem,"0",idFornecedor):comboCliente("contagem",idClienteContagem,"0",0);if(abAtual==3){$("#contagem_id_contrato").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_projeto").empty().append('<option value="0">---</option>').prop("disabled",true);$("#id-orgao").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_baseline").prop("disabled",false);comboBaseline(0,"01",$("#contagem_id_baseline"),0);getGerenteProjeto(0);$("#ordem_servico").val("OS-BASELINE")}else{if(abAtual==4){$("#contagem_id_contrato").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_projeto").empty().append('<option value="0">---</option>').prop("disabled",true);$("#contagem_id_baseline").empty().append('<option value="0">---</option>').prop("disabled",true);$("#id-orgao").empty().append('<option value="0">---</option>').prop("disabled",true);comboBaseline(0,"01",$("#contagem_id_baseline"),0);getGerenteProjeto(0);$("#ordem_servico").val("OS-LICITAÇÃO")}else{if(Number(isContagemAuditoria)==1){comboContrato(idClienteContagem,"01",0,0,"contagem",1);comboOrgao("01",0,idClienteContagem,$("#id-orgao"))}else{comboContrato(idClienteContagem,"01",0,0,"contagem",false);comboOrgao("01",0,idClienteContagem,$("#id-orgao"))}if(abAtual!=2){$("#contagem_id_baseline").empty().append('<option value="0">---</option>').prop("disabled",true)}else{comboBaseline(0,"01",$("#contagem_id_baseline"),0)}}}if(abAtual!=5){comboRoteiro("dados","1",idRoteiro,0);comboRoteiro("transacao","1",idRoteiro,0);comboRoteiro("outros","1",idRoteiro,0)}comboFatorTecnologia(0,$("#id_fator_tecnologia"),$("#contagem_id_cliente option:selected").val());comboLinguagem("01",0,$("#id_linguagem"),idClienteContagem);comboTipoContagem("01",0,$("#id_tipo_contagem"));comboProcesso("01",0,$("#id_processo"));comboEtapa("01",0,$("#id_etapa"));comboIndustria("01",0,$("#id_industria"));comboProcessoGestao("01",0,$("#id_processo_gestao"));comboBancoDados("01",0,$("#id_banco_dados"),idClienteContagem);$("#span_id_contagem").html("------");isFornecedor?$("#privacidade").bootstrapToggle("off").bootstrapToggle("disable"):null;isAutorizadoAlterar=true}$("#li-ane").on("click",function(){if($(this).hasClass("disabled")||$("#span_id_contagem").html()==="------"){return false}});$("#li-est").on("click",function(){if($(this).hasClass("disabled")){return false}});$("#li-coc").on("click",function(){if($(this).hasClass("disabled")){return false}else{calculaCocomo()}});$("#li-fin").on("click",function(){if($(this).hasClass("disabled")){return false}});$("#id_etapa").on("change",function(){if(qtdAtual>1){swal({title:"Alerta",text:"Ap&oacute;s inserir funcionalidades n&atilde;o &eacute; poss&iacute;vel alternar para outro m&eacute;todo que n&atilde;o o Indicativo.",type:"warning",html:true});$(this).val(idEtapa)}else{if(abAtual!=1&&$(this).val()==3){swal({title:"Alerta",text:"Apenas contagens livres podem ser associadas ao m&eacute;todo/etapa de contagem Indicativa",type:"warning",html:true});$(this).val(idEtapa)}else{if($(this).val()==3){$("#btn-pesquisar-ali").prop("disabled",true);$("#btn-pesquisar-aie").prop("disabled",true);$("#btn-pesquisar-ee").prop("disabled",true);$("#btn-pesquisar-se").prop("disabled",true);$("#btn-pesquisar-ce").prop("disabled",true);$("#btn_adicionar_ali").prop("disabled",true);$("#btn_adicionar_aie").prop("disabled",true);$("#li-ee").addClass("disabled");$("#li-se").addClass("disabled");$("#li-ce").addClass("disabled");$("#li-ou").addClass("disabled")}else{$("#btn-pesquisar-ali").prop("disabled",false);$("#btn-pesquisar-aie").prop("disabled",false);$("#btn-pesquisar-ee").prop("disabled",false);$("#btn-pesquisar-se").prop("disabled",false);$("#btn-pesquisar-ce").prop("disabled",false);$("#btn_adicionar_ali").prop("disabled",false);$("#btn_adicionar_aie").prop("disabled",false);$("#li-ee").removeClass("disabled");$("#li-se").removeClass("disabled");$("#li-ce").removeClass("disabled");$("#li-ou").removeClass("disabled")}}}});$("#li-ali").on("click",function(){if($("#id_etapa").val()==3&&abAtual==1&&idContagem>0){$(".btn-adicionar-indicativa").prop("disabled",false)}});$("#li-aie").on("click",function(){if($("#id_etapa").val()==3&&abAtual==1&&idContagem>0){$(".btn-adicionar-indicativa").prop("disabled",false)}});$(".btn-adicionar-indicativa").on("click",function(){if($("#id_etapa").val()==3&&abAtual==1&&idContagem>0){$("#titulo-indicativa").html($(this).val().toUpperCase());$("#indicativa-titulo-2").html($(this).val()==="ali"?"Arquivos L&oacute;gicos Internos":"Arquivos de Interface Externa");$("#tabela-indicativa").val($(this).val());$("#form-modal-inserir-indicativa").modal("toggle")}else{if(idContagem==0){swal({title:"Alerta",text:"Voc&eacute; deve salvar as informa&ccedil;&otilde;es iniciais da contagem para poder inserir fun&ccedil;&otilde;es no m&eacute;todo Indicativo.",type:"error",html:true,confirmButtonText:"Entendi!"},function(){})}else{swal({title:"Alerta",text:"A abrang&ecirc;ncia da contagem ("+(abAtual==2?"Projeto":(abAtual==3?"Baseline":"Licita&ccedil;&atilde;o"))+") n&atilde;o permite inserir funcionalidades no m&eacute;todo Indicativo.",type:"error",html:true,confirmButtonText:"Entendi!"},function(){})}}});$("#form-modal-inserir-indicativa").on("hidden.bs.modal",function(){$("#titulo-indicativa").html("");$("#indicativa-titulo-2").html("");$("#text-indicativa").val("");$("#tabela-indicativa").val("")});$("#text-indicativa").on("keyup",function(){var b=new RegExp("^[a-zA-Z0-9;_.-]+$");var a=$(this).val();if(!b.test(a)){$(this).val(a.substring(0,(a.length-1)))}});$("#btn-adicionar-indicativa").on("click",function(){var j=new RegExp("^[a-zA-Z0-9;_.-]+$");var d=$("#text-indicativa").val();var c=$("#tabela-indicativa").val();if(d.length<1){swal({title:"Alerta",text:"Voc&ecirc; precisa inserir ao menos uma funcionalidade.",type:"error",html:true,confirmButtonText:"Obrigado, vou corrigir!"},function(){return false})}else{if(!j.test(d)){swal({title:"Alerta",text:"H&aacute; caracteres especiais/inv&aacute;lidos nos nomes/descri&ccedil;&otilde;es das fun&ccedil;&otilde;es.",type:"error",html:true,confirmButtonText:"Obrigado, vou corrigir!"},function(){return false})}else{var k=d.split(";");var h=removerDuplicados(k);var a="";for(x=0;x<h.length;x++){var g=h[x];if(g.length>0){a+=isDuplicada(c.toUpperCase(),g)?g+", ":insereFuncaoDadosIndicativa(c.toUpperCase(),g)}}swal({title:"Informa&ccedil;&atilde;o",text:"As funcionalidades foram adicionadas &agrave; contagem."+(a.length>0?"<br />As seguintes <strong>n&atilde;o</strong> foram inseridas por estarem duplicadas:<br />"+a.substr(0,a.length-2):""),type:"success",html:true,confirmButtonText:"Obrigado!"});$("#form-modal-inserir-indicativa").modal("toggle")}}});if($("#span_id_contagem").html()!=="------"){$("#li-ane").removeClass("disabled");$("#li-est").removeClass("disabled");$("#li-coc").removeClass("disabled");$("#li-fin").removeClass("disabled")}$(".salvar-contagem").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isSalvarContagem){gravaLogAuditoria(emailLogado,userRole,"salvar-contagem;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");inserirContagem($(this)[0].id);isSalvarEstatisticas=true;calculaFases(false)});$(".finalizar-v-interna").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isFinalizarVInterna){gravaLogAuditoria(emailLogado,userRole,"finalizar-v-interna;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");validarContagem($(this)[0].id,idContagem,"v-interna","fa fa-sign-in","vi",$("#responsavel").val(),true)});$(".finalizar-v-externa").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isFinalizarVExterna){gravaLogAuditoria(emailLogado,userRole,"finalizar-v-externa;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");validarContagem($(this)[0].id,idContagem,"v-externa","fa fa-sign-out","ve",$("#responsavel").val(),true)});$(".finalizar-a-interna").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isFinalizarAInterna){gravaLogAuditoria(emailLogado,userRole,"finalizar-a-interna;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");validarContagem($(this)[0].id,idContagem,"a-interna","fa fa-flag-checkered","ai",$("#responsavel").val(),true)});$(".finalizar-a-externa").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isFinalizarAExterna){gravaLogAuditoria(emailLogado,userRole,"finalizar-a-externa;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");validarContagem($(this)[0].id,idContagem,"a-externa","fa fa-flag-o","ae",$("#responsavel").val(),true)});$(".solicitar-revisao").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isSolicitarRevisao){gravaLogAuditoria(emailLogado,userRole,"solicitar-revisao;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");solicitarRevisao($(this)[0].id,idContagem,ac)});$(".finalizar-revisao").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isFinalizarRevisao){gravaLogAuditoria(emailLogado,userRole,"finalizar-revisao;"+("000000000"+idContagem).slice(-9));return false}$(this).addClass("disabled");finalizarRevisao($(this)[0].id,idContagem,abAtual)});$(".relatorio-apontes").on("click",function(){if($(this).hasClass("disabled")){return false}if(!isRelatorioApontes){gravaLogAuditoria(emailLogado,userRole,"relatorio-apontes;"+("000000000"+idContagem).slice(-9));return false}$(this).attr("data-toggle","modal").attr("data-target","#form_modal_apontes");retornaApontes(idContagem)});$("#contagem_id_cliente").on("change",function(){sel=$("#contagem_id_contrato");sel.empty().append('<option value="0">...</option>');sel=$("#contagem_id_projeto");sel.empty().append('<option value="0">...</option>');if(abAtual==2){sel=$("#contagem_id_baseline");sel.empty().append('<option value="0">...</option>')}if($(this).val()>0){comboContrato($(this).val(),"01",0,0,"contagem");comboOrgao("01",0,$(this).val(),$("#id-orgao"))}});$("#contagem_id_contrato").on("change",function(){sel=$("#contagem_id_projeto");sel.empty().append('<option value="0">...</option>');if(abAtual==2){sel=$("#contagem_id_baseline");sel.empty().append('<option value="0">...</option>')}if($(this).val()>0){if(ac==="al"||ac==="in"){getValorHora($(this).val())}comboProjeto($(this).val(),"01",0,"contagem")}});$("#contagem_id_projeto").on("change",function(){if(abAtual==2){sel=$("#contagem_id_baseline");sel.empty().append('<option value="0">...</option>')}if($(this).val()==0){$("#gerente_projeto").val("");$("#nome_gerente_projeto").val("")}else{if(abAtual==2){comboBaseline(0,"1",$("#contagem_id_baseline"),0)}getGerenteProjeto($(this).val())}});$("#contagem_id_baseline").on("change",function(){var a=$(this).val();if($(this).val()!=0){if(ac!=="in"){$("#id_linguagem").val(0).trigger("change");$("#id_tipo_contagem").val(0);$("#id_etapa").val(0);$("#id_industria").val(0);$("#id_banco_dados").val(0);$("#id_processo").val(0);$("#id_processo_gestao").val(0)}verificaBaseline(a)}else{$("#span-resumo-baseline").attr({"data-content":"Selecione uma baseline"});$("#id_linguagem").val(0).trigger("change");$("#id_tipo_contagem").val(0);$("#id_etapa").val(0);$("#id_industria").val(0);$("#id_banco_dados").val(0);$("#id_processo").val(0);$("#id_processo_gestao").val(0)}});$("#id_linguagem").on("change",function(){verificaProdutividade($(this).val())});$("#files-add").on("click",function(){if(Number(idContagem)==0){swal({title:"Alerta",text:"Por favor, insira primeiro as informa&ccedil;&otilde;es sobre a contagem.",type:"error",html:true,confirmButtonText:"Entendi!"});return false}else{return true}});$('a[data-toggle="tab"]').on("shown.bs.tab",function(b){var a=String(b.target);a=a.split("#");if(a[1]==="tab_variacao"||a[1]==="est"||a[1]==="coc"){graficoVariacao();if(a[1]==="est"||a[1]==="coc"){if(ac==="in"||ac==="al"||ac==="re"){isSalvarEstatisticas=true}calculaFases(true)}return true}else{if(a[1]==="tab_complexidade"){graficoComplexidade();return true}else{if(a[1]==="tab_operacao"){graficoOperacao();return true}else{if(a[1]==="fin"){isAtualizarPrivacidade=true}}}}});$('li[data-toggle="tabs"]').on("click",function(){if(($(this).hasClass("disabled"))){return false}});