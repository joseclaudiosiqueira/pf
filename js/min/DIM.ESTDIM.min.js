
$(".money").mask("#.##0.00",{reverse:true});$("#chk-ft").on("change",function(){$("#span-is-ft").html($(this).prop("checked")?" - <strong>FT: "+Number($("#span-ft").html()).toFixed(2)+"</strong>":"");calculaFases(true)});var clickDate=$("#previsao_inicio").datepicker({format:"dd/mm/yyyy"}).on("changeDate",function(a){verificaDataInicio(new Date($("#previsao_inicio").val().replace(/(\d{2})[-/](\d{2})[-/](\d+)/,"$2/$1/$3")));clickDate.hide()}).data("datepicker");var perfEng=config_isEng?$("#perf-eng").selectize({plugins:["remove_button"],delimiter:",",persist:false,create:function(a){return{value:a,text:a}},onItemAdd:function(b,a){isSalvarEstatisticas?qtdProfFases("eng",this.items.length):null},onItemRemove:function(a){isSalvarEstatisticas?qtdProfFases("eng",this.items.length):null}}):null;var perfDes=config_isDes?$("#perf-des").selectize({plugins:["remove_button"],delimiter:",",persist:false,create:function(a){return{value:a,text:a}},onItemAdd:function(b,a){isSalvarEstatisticas?qtdProfFases("des",this.items.length):null},onItemRemove:function(a){isSalvarEstatisticas?qtdProfFases("des",this.items.length):null}}):null;var perfImp=config_isImp?$("#perf-imp").selectize({plugins:["remove_button"],delimiter:",",persist:false,create:function(a){return{value:a,text:a}},onItemAdd:function(b,a){isSalvarEstatisticas?qtdProfFases("imp",this.items.length):null},onItemRemove:function(a){isSalvarEstatisticas?qtdProfFases("imp",this.items.length):null}}):null;var perfTes=config_isTes?$("#perf-tes").selectize({plugins:["remove_button"],delimiter:",",persist:false,create:function(a){return{value:a,text:a}},onItemAdd:function(b,a){isSalvarEstatisticas?qtdProfFases("tes",this.items.length):null},onItemRemove:function(a){isSalvarEstatisticas?qtdProfFases("tes",this.items.length):null}}):null;var perfHom=config_isHom?$("#perf-hom").selectize({plugins:["remove_button"],delimiter:",",persist:false,create:function(a){return{value:a,text:a}},onItemAdd:function(b,a){isSalvarEstatisticas?qtdProfFases("hom",this.items.length):null},onItemRemove:function(a){isSalvarEstatisticas?qtdProfFases("hom",this.items.length):null}}):null;var perfImpl=config_isImpl?$("#perf-impl").selectize({plugins:["remove_button"],delimiter:",",persist:false,create:function(a){return{value:a,text:a}},onItemAdd:function(b,a){isSalvarEstatisticas?qtdProfFases("impl",this.items.length):null},onItemRemove:function(a){isSalvarEstatisticas?qtdProfFases("impl",this.items.length):null}}):null;pEng=config_isEng?Number($("#prof-des").val()):0;pDes=config_isDes?Number($("#prof-des").val()):0;pImp=config_isImp?Number($("#prof-imp").val()):0;pTes=config_isTes?Number($("#prof-tes").val()):0;pHom=config_isHom?Number($("#prof-hom").val()):0;pImpl=config_isImpl?Number($("#prof-impl").val()):0;var selectizeEng=config_isEng?perfEng[0].selectize:false;var selectizeDes=config_isDes?perfDes[0].selectize:false;var selectizeImp=config_isImp?perfImp[0].selectize:false;var selectizeTes=config_isTes?perfTes[0].selectize:false;var selectizeHom=config_isHom?perfHom[0].selectize:false;var selectizeImpl=config_isImpl?perfImpl[0].selectize:false;if(isEng){selectizeEng.enable()}else{if(selectizeEng){selectizeEng.clearOptions();selectizeEng.disable()}}if(isDes){selectizeDes.enable()}else{if(selectizeDes){selectizeDes.clearOptions();selectizeDes.disable()}}if(isImp){selectizeImp.enable()}else{if(selectizeImp){selectizeImp.clearOptions();selectizeImp.disable()}}if(isTes){selectizeTes.enable()}else{if(selectizeTes){selectizeTes.clearOptions();selectizeTes.disable()}}if(isHom){selectizeHom.enable()}else{if(selectizeHom){selectizeHom.clearOptions();selectizeHom.disable()}}if(isImpl){selectizeImpl.enable()}else{if(selectizeImpl){selectizeImpl.clearOptions();selectizeImpl.disable()}}$("#chk-eng").on("change",function(){isEng=$(this).prop("checked");pEng=pEng==0?1:isEng?pEng:0;$("#prod-eng").prop("readonly",isEng?(!isGlobal&&!isLinguagem)?false:true:true);$("#prof-eng").val(pEng).prop("readonly",!isEng);isEng?selectizeEng.enable():(selectizeEng.clearOptions(),selectizeEng.disable());isSalvarEstatisticas?calculaFases(true):null});$("#chk-des").on("change",function(){isDes=$(this).prop("checked");pDes=pDes==0?1:isDes?pDes:0;$("#prod-des").prop("readonly",isDes?(!isGlobal&&!isLinguagem)?false:true:true);$("#prof-des").val(pDes).prop("readonly",!isDes);isDes?selectizeDes.enable():(selectizeDes.clearOptions(),selectizeDes.disable());isSalvarEstatisticas?calculaFases(true):null});$("#chk-imp").on("change",function(){isImp=$(this).prop("checked");pImp=pImp==0?1:isImp?pImp:0;$("#prod-imp").prop("readonly",isImp?(!isGlobal&&!isLinguagem)?false:true:true);$("#prof-imp").val(pImp).prop("readonly",!isImp);isImp?selectizeImp.enable():(selectizeImp.clearOptions(),selectizeImp.disable());isSalvarEstatisticas?calculaFases(true):null});$("#chk-tes").on("change",function(){isTes=$(this).prop("checked");pTes=pTes==0?1:isTes?pTes:0;$("#prod-tes").prop("readonly",isTes?(!isGlobal&&!isLinguagem)?false:true:true);$("#prof-tes").val(pTes).prop("readonly",!isTes);isTes?selectizeTes.enable():(selectizeTes.clearOptions(),selectizeTes.disable());isSalvarEstatisticas?calculaFases(true):null});$("#chk-hom").on("change",function(){isHom=$(this).prop("checked");pHom=pHom==0?1:isHom?pHom:0;$("#prod-hom").prop("readonly",isHom?(!isGlobal&&!isLinguagem)?false:true:true);$("#prof-hom").val(pHom).prop("readonly",!isHom);isHom?selectizeHom.enable():(selectizeHom.clearOptions(),selectizeHom.disable());isSalvarEstatisticas?calculaFases(true):null});$("#chk-impl").on("change",function(){isImpl=$(this).prop("checked");pImpl=pImpl==0?1:isImpl?pImpl:0;$("#prod-impl").prop("readonly",isImpl?(!isGlobal&&!isLinguagem)?false:true:true);$("#prof-impl").val(pImpl).prop("readonly",!isImpl);isImpl?selectizeImpl.enable():(selectizeImpl.clearOptions(),selectizeImpl.disable());isSalvarEstatisticas?calculaFases(true):null});$("#chk_produtividade_global").on("change",function(){if(isSalvarEstatisticas){if($(this).prop("checked")){$("#chk-produtividade-linguagem").bootstrapToggle("disable");$(".escala").prop("disabled",true);isGlobal=true;config_isProdutividadeGlobal=true;config_isEng?$("#prod-eng").val(parseFloat(contagemConfig.produtividade_global).toFixed(2)).prop("readonly",true):null;config_isDes?$("#prod-des").val(parseFloat(contagemConfig.produtividade_global).toFixed(2)).prop("readonly",true):null;config_isImp?$("#prod-imp").val(parseFloat(contagemConfig.produtividade_global).toFixed(2)).prop("readonly",true):null;config_isTes?$("#prod-tes").val(parseFloat(contagemConfig.produtividade_global).toFixed(2)).prop("readonly",true):null;config_isHom?$("#prod-hom").val(parseFloat(contagemConfig.produtividade_global).toFixed(2)).prop("readonly",true):null;config_isImpl?$("#prod-impl").val(parseFloat(contagemConfig.produtividade_global).toFixed(2)).prop("readonly",true):null}else{$("#chk-produtividade-linguagem").bootstrapToggle("enable");isGlobal=false;config_isProdutividadeGlobal=false;if(ac==="al"){config_isEng?$("#prod-eng").val(parseFloat(contagemEstatisticas.prod_eng).toFixed(2)).prop("readonly",isEng?false:true):null;config_isDes?$("#prod-des").val(parseFloat(contagemEstatisticas.prod_des).toFixed(2)).prop("readonly",isDes?false:true):null;config_isImp?$("#prod-imp").val(parseFloat(contagemEstatisticas.prod_imp).toFixed(2)).prop("readonly",isImp?false:true):null;config_isTes?$("#prod-tes").val(parseFloat(contagemEstatisticas.prod_tes).toFixed(2)).prop("readonly",isTes?false:true):null;config_isHom?$("#prod-hom").val(parseFloat(contagemEstatisticas.prod_hom).toFixed(2)).prop("readonly",isHom?false:true):null;config_isImpl?$("#prod-impl").val(parseFloat(contagemEstatisticas.prod_impl).toFixed(2)).prop("readonly",isImpl?false:true):null}else{config_isEng?$("#prod-eng").val(parseFloat(contagemConfig.prod_f_eng).toFixed(2)).prop("readonly",isEng?false:true):null;config_isDes?$("#prod-des").val(parseFloat(contagemConfig.prod_f_des).toFixed(2)).prop("readonly",isDes?false:true):null;config_isImp?$("#prod-imp").val(parseFloat(contagemConfig.prod_f_imp).toFixed(2)).prop("readonly",isImp?false:true):null;config_isTes?$("#prod-tes").val(parseFloat(contagemConfig.prod_f_tes).toFixed(2)).prop("readonly",isTes?false:true):null;config_isHom?$("#prod-hom").val(parseFloat(contagemConfig.prod_f_hom).toFixed(2)).prop("readonly",isHom?false:true):null;config_isImpl?$("#prod-impl").val(parseFloat(contagemConfig.prod_f_impl).toFixed(2)).prop("readonly",isImpl?false:true):null}}calculaFases(false)}});$("#chk-produtividade-linguagem").on("change",function(){if(isSalvarEstatisticas){if($(this).prop("checked")){$("#chk_produtividade_global").bootstrapToggle("disable");$(".escala").prop("disabled",false);alteraEscalaProdutividade($("#escala-produtividade").val());isLinguagem=true;config_isProdutividadeLinguagem=true;config_produtividadeLinguagem=parseFloat($("#produtividade-media").val()).toFixed(2);config_isEng?$("#prod-eng").val(parseFloat($("#produtividade-media").val()).toFixed(2)).prop("readonly",true):null;config_isDes?$("#prod-des").val(parseFloat($("#produtividade-media").val()).toFixed(2)).prop("readonly",true):null;config_isImp?$("#prod-imp").val(parseFloat($("#produtividade-media").val()).toFixed(2)).prop("readonly",true):null;config_isTes?$("#prod-tes").val(parseFloat($("#produtividade-media").val()).toFixed(2)).prop("readonly",true):null;config_isHom?$("#prod-hom").val(parseFloat($("#produtividade-media").val()).toFixed(2)).prop("readonly",true):null;config_isImpl?$("#prod-impl").val(parseFloat($("#produtividade-media").val()).toFixed(2)).prop("readonly",true):null}else{$(".escala").prop("disabled",true);$("#chk_produtividade_global").bootstrapToggle("enable");$("#escala-produtividade").val("media");alteraEscalaProdutividade("media");isLinguagem=false;config_isProdutividadeLinguagem=false;if(ac==="al"){config_isEng?$("#prod-eng").val(parseFloat(contagemEstatisticas.prod_eng).toFixed(2)).prop("readonly",isEng?false:true):null;config_isDes?$("#prod-des").val(parseFloat(contagemEstatisticas.prod_des).toFixed(2)).prop("readonly",isDes?false:true):null;config_isImp?$("#prod-imp").val(parseFloat(contagemEstatisticas.prod_imp).toFixed(2)).prop("readonly",isImp?false:true):null;config_isTes?$("#prod-tes").val(parseFloat(contagemEstatisticas.prod_tes).toFixed(2)).prop("readonly",isTes?false:true):null;config_isHom?$("#prod-hom").val(parseFloat(contagemEstatisticas.prod_hom).toFixed(2)).prop("readonly",isHom?false:true):null;config_isImpl?$("#prod-impl").val(parseFloat(contagemEstatisticas.prod_impl).toFixed(2)).prop("readonly",isImpl?false:true):null}else{config_isEng?$("#prod-eng").val(parseFloat(contagemConfig.prod_f_eng).toFixed(2)).prop("readonly",isEng?false:true):null;config_isDes?$("#prod-des").val(parseFloat(contagemConfig.prod_f_des).toFixed(2)).prop("readonly",isDes?false:true):null;config_isImp?$("#prod-imp").val(parseFloat(contagemConfig.prod_f_imp).toFixed(2)).prop("readonly",isImp?false:true):null;config_isTes?$("#prod-tes").val(parseFloat(contagemConfig.prod_f_tes).toFixed(2)).prop("readonly",isTes?false:true):null;config_isHom?$("#prod-hom").val(parseFloat(contagemConfig.prod_f_hom).toFixed(2)).prop("readonly",isHom?false:true):null;config_isImpl?$("#prod-impl").val(parseFloat(contagemConfig.prod_f_impl).toFixed(2)).prop("readonly",isImpl?false:true):null}}calculaFases(false)}});$(".escala").on("click",function(){var a="";switch($(this).attr("id")){case"escala-baixa":$("#escala-produtividade").val("baixa");a="-baixa";alteraEscalaProdutividade("baixa");break;case"escala-media":$("#escala-produtividade").val("media");a="-media";alteraEscalaProdutividade("media");break;case"escala-alta":$("#escala-produtividade").val("alta");a="-alta";alteraEscalaProdutividade("alta");break}if(isSalvarEstatisticas){config_isEng?$("#prod-eng").val(parseFloat($("#produtividade"+a).val()).toFixed(2)).prop("readonly",true):null;config_isDes?$("#prod-des").val(parseFloat($("#produtividade"+a).val()).toFixed(2)).prop("readonly",true):null;config_isImp?$("#prod-imp").val(parseFloat($("#produtividade"+a).val()).toFixed(2)).prop("readonly",true):null;config_isTes?$("#prod-tes").val(parseFloat($("#produtividade"+a).val()).toFixed(2)).prop("readonly",true):null;config_isHom?$("#prod-hom").val(parseFloat($("#produtividade"+a).val()).toFixed(2)).prop("readonly",true):null;config_isImpl?$("#prod-impl").val(parseFloat($("#produtividade"+a).val()).toFixed(2)).prop("readonly",true):null;calculaFases(true)}});$("#prod-eng").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(contagemConfig.produtividade_global)}$(this).val(parseFloat($(this).val()).toFixed(2));isSalvarEstatisticas?calculaFases(false):null}).mask("#.##0.00",{reverse:true});$("#prod-des").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(contagemConfig.produtividade_global)}$(this).val(parseFloat($(this).val()).toFixed(2));isSalvarEstatisticas?calculaFases(false):null}).mask("#.##0.00",{reverse:true});$("#prod-imp").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(contagemConfig.produtividade_global)}$(this).val(parseFloat($(this).val()).toFixed(2));isSalvarEstatisticas?calculaFases(false):null}).mask("#.##0.00",{reverse:true});$("#prod-tes").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(contagemConfig.produtividade_global)}$(this).val(parseFloat($(this).val()).toFixed(2));isSalvarEstatisticas?calculaFases(false):null}).mask("#.##0.00",{reverse:true});$("#prod-hom").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(contagemConfig.produtividade_global)}$(this).val(parseFloat($(this).val()).toFixed(2));isSalvarEstatisticas?calculaFases(false):null}).mask("#.##0.00",{reverse:true});$("#prod-impl").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(contagemConfig.produtividade_global)}$(this).val(parseFloat($(this).val()).toFixed(2));isSalvarEstatisticas?calculaFases(false):null}).mask("#.##0.00",{reverse:true});$("#prof-eng").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(1)}isSalvarEstatisticas?calculaFases(false):null}).mask("00");$("#prof-des").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(1)}isSalvarEstatisticas?calculaFases(false):null}).mask("00");$("#prof-imp").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(1)}isSalvarEstatisticas?calculaFases(false):null}).mask("00");$("#prof-tes").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(1)}isSalvarEstatisticas?calculaFases(false):null}).mask("00");$("#prof-hom").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(1)}isSalvarEstatisticas?calculaFases(false):null}).mask("00");$("#prof-impl").on("change",function(){if(Number($(this).val())==0||$(this).val()==""){$(this).val(1)}isSalvarEstatisticas?calculaFases(false):null}).mask("00");$(".btn-horas").on("change",function(){isSalvarEstatisticas?calculaFases(true):null});$(".btn-projeto").on("click",function(){var a=Number($(this).val());switch(a){case 1:config_aumentoEsforco=parseFloat(1).toFixed(2);config_fatorReducaoCronograma=parseFloat(1).toFixed(2);$("#span-tipo-projeto").html("Projeto Padr&atilde;o => 1,00");break;case 2:config_aumentoEsforco=parseFloat(1.2).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.9).toFixed(2);$("#span-tipo-projeto").html("Projeto Urgente => 1,20");break;case 3:config_aumentoEsforco=parseFloat(1.5).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.8).toFixed(2);$("#span-tipo-projeto").html("Projeto Cr&iacute;tico => 1,50");break;case 4:config_aumentoEsforco=parseFloat(1.7).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.75).toFixed(2);$("#span-tipo-projeto").html("Projeto Alta Criticidade => 1,70");break}$("#tipo-projeto").val(a);isSalvarEstatisticas?calculaFases(true):null});$("#chk-solicitacao-servico-critica").on("change",function(){if(isSalvarEstatisticas){if(($(this).prop("checked"))){config_aumentoEsforco=parseFloat(1.35).toFixed(2);config_fatorReducaoCronograma=parseFloat(0.85).toFixed(2);$("#span-tipo-projeto").html("Solicita&ccedil;&atilde;o de Servi&ccedil;o Cr&iacute;tica => 1,35");$("#tipo-projeto").val(5)}else{config_aumentoEsforco=parseFloat(1).toFixed(2);config_fatorReducaoCronograma=parseFloat(1).toFixed(2);$("#span-tipo-projeto").html("Projeto Padr&atilde;o => 1,00");$("#tipo-projeto").val(1)}$(".btn-projeto").prop("disabled",$(this).prop("checked"));calculaFases(true)}});$("#solicitacao-servico-reducao-cronograma").on("change",function(){Number($(this).val()>25)?$(this).css({background:"#ffcc66"}):$(this).css({background:"#ffffff"});var a=Number($(this).val());switch(a){case 20:break;case 25:break;case 30:break;case 35:break;case 40:break;case 45:break;case 50:break}isSalvarEstatisticas?calculaFases(true):null});$("#btn-pdf").on("click",function(){window.open("/pf/DIM.Gateway.php?arq=62&tch=0&sub=3&dlg=1&i="+idContagem)});$("#btn-html").on("click",function(){window.open("/pf/DIM.Gateway.php?arq=61&tch=0&sub=3&dlg=1&i="+idContagem+"&p=html")});function escreveTamanhoProdutividade(){var c=getPfaFasesSelecionadas();$("#tamanho-pfa").html(Number(c*config_aumentoEsforco).toFixed(4));var b=getProdutividadeMedia();var a=config_isProdutividadeGlobal?parseFloat(config_produtividadeGlobal).toFixed(2):(config_isProdutividadeLinguagem?parseFloat(config_produtividadeLinguagem).toFixed(2):parseFloat(b).toFixed(2));$("#span-produtividade-media").html(a)}function getPfaFasesSelecionadas(){var h=isEng?Number($("#pct-pfa-eng").html()):0;var c=isDes?Number($("#pct-pfa-des").html()):0;var b=isImp?Number($("#pct-pfa-imp").html()):0;var g=isTes?Number($("#pct-pfa-tes").html()):0;var a=isHom?Number($("#pct-pfa-hom").html()):0;var f=isImpl?Number($("#pct-pfa-impl").html()):0;var e=parseFloat(h+c+b+g+a+f).toFixed(4);return e}function getDuracaoProjeto(){var b=isEng?Number($("#esforco-f-eng").html().split("<br>")[1].split(" ")[0]):0;var h=isDes?Number($("#esforco-f-des").html().split("<br>")[1].split(" ")[0]):0;var g=isImp?Number($("#esforco-f-imp").html().split("<br>")[1].split(" ")[0]):0;var a=isTes?Number($("#esforco-f-tes").html().split("<br>")[1].split(" ")[0]):0;var f=isHom?Number($("#esforco-f-hom").html().split("<br>")[1].split(" ")[0]):0;var e=isImpl?Number($("#esforco-f-impl").html().split("<br>")[1].split(" ")[0]):0;var c=parseFloat(b+h+g+a+f+e).toFixed(4);return c}function getProdutividadeMedia(){var i=0;var c=isEng?Number($("#prod-eng").val()):0;var h=isDes?Number($("#prod-des").val()):0;var g=isImp?Number($("#prod-imp").val()):0;var b=isTes?Number($("#prod-tes").val()):0;var f=isHom?Number($("#prod-hom").val()):0;var a=isImpl?Number($("#prod-impl").val()):0;i+=isEng?1:0;i+=isDes?1:0;i+=isImp?1:0;i+=isTes?1:0;i+=isHom?1:0;i+=isImpl?1:0;i=i==0?1:i;var e=parseFloat((c+h+g+b+f+a)/i).toFixed(4);return e}function getDataFinal(){return isImpl?$("#p_impl_data_fim").html():isHom?$("#p_hom_data_fim").html():isTes?$("#p_tes_data_fim").html():isImp?$("#p_imp_data_fim").html():isDes?$("#p_des_data_fim").html():isEng?$("#p_eng_data_fim").html():""}function getValorHora(a){$.post("/pf/DIM.Gateway.php",{i:a,arq:49,tch:1,sub:-1,dlg:1},function(b){$("#valor-hpc").val(parseFloat(b.valor_hpc).toFixed(2));$("#valor-hpa").val(parseFloat(b.valor_hpa).toFixed(2));$("#valor-pfa-contrato").val(parseFloat(b.valor_pf).toFixed(2))},"json")}function getEsforcoTotal(){var f=getProdutividadeMedia();var c=getPfaFasesSelecionadas();var b=config_isProdutividadeGlobal?parseFloat(config_produtividadeGlobal):(config_isProdutividadeLinguagem?parseFloat(config_produtividadeLinguagem):parseFloat(f));var e=Number($("#hpc").val());var g=Number($("#hpa").val());var a=parseFloat((c*b+e+g)*config_aumentoEsforco).toFixed(4);return a}function getCustoTotal(){var b=getPfaFasesSelecionadas();var e=Number($("#hpc").val());var f=Number($("#hpa").val());var h=Number($("#valor-hpc").val());var a=Number($("#valor-hpa").val());var g=(e*h)+(f*a);var c=+(g+(b*Number($("#valor-pfa-contrato").val())))||0;return parseFloat(c*config_aumentoEsforco).toFixed(2)}function verificaDataInicio(b){var a=Number(b.getDay());var c;dtNova=new Date(b);if(a==0||a==6){if(a==6){c="s&aacute;bado";dtNova=dtNova.setDate(b.getDate()+2)}if(a==0){c="domingo";dtNova=dtNova.setDate(b.getDate()+1)}swal({title:"Informa&ccedil;&atilde;o",text:"A data inicial informada &eacute; um <strong>"+c+"</strong>, o sistema iniciar&aacute; os c&aacute;lculos no primeiro dia &uacute;til subsequente!",type:"info",html:true,confirmButtonText:"Entendi, obrigado!"},function(){$("#previsao_inicio").val(formattedDate(dtNova,false,false));calculaFases(false)})}else{calculaFases(false)}}function graficoVariacao(){var c=[Number(getSpanPfa("ALI",true)),Number(getSpanPfa("AIE",true)),Number(getSpanPfa("EE",true)),Number(getSpanPfa("SE",true)),Number(getSpanPfa("CE",true)),Number(getSpanPfa("OU",true))];var b=[Number(getSpanPfb("ALI",true)),Number(getSpanPfb("AIE",true)),Number(getSpanPfb("EE",true)),Number(getSpanPfb("SE",true)),Number(getSpanPfb("CE",true)),Number(getSpanPfa("OU",true))];var a=document.getElementById("chart_variacao");var e=new Chart(a,{type:"bar",data:{datasets:[{data:c,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1},{label:"Executado",data:b,type:"line"}],labels:["ALI","AIE","EE","SE","CE"]},options:{legend:{display:false}}})}function graficoEntregas(b,e){var a=document.getElementById("chart_entregas");var c=new Chart(a,{type:"line",data:{labels:b,datasets:[{data:e,backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"]}]},options:{legend:{display:false},scales:{yAxes:[{ticks:{beginAtZero:true}}]}}})}function escreveInicioFim(a,c,b){return'<strong>In&iacute;cio</strong>: <span id="p_'+b+'_data_inicio">'+formattedDate(new Date(a),false,false)+'</span><br><strong>Fim</strong>: <span id="p_'+b+'_data_fim">'+formattedDate(new Date(c),false,false)+"</span>"}function resetaDatas(){$("#previsao-f-eng").html("");$("#previsao-f-des").html("");$("#previsao-f-imp").html("");$("#previsao-f-tes").html("");$("#previsao-f-hom").html("");$("#previsao-f-impl").html("");$("#esforco-f-eng").html("");$("#esforco-f-des").html("");$("#esforco-f-imp").html("");$("#esforco-f-tes").html("");$("#esforco-f-hom").html("");$("#esforco-f-impl").html("")}function getWeekend(a,b){for(d=a;d<b;d+=aDay){dia=new Date(d).getDay();if(dia==0||dia==6){b+=aDay}}b-=aDay;return b}function escreveEsforcoDuracao(a,b){return Number(a*config_aumentoEsforco).toFixed(4)+" hora(s)<br />"+Number(b*config_fatorReducaoCronograma).toFixed(4)+" dia(s)"}function qtdProfFases(b,a){$("#prof-"+b).val((a==0)?1:a);isSalvarEstatisticas?calculaFases(false):null}function calculaFases(B){resetaDatas();var ak=getTimeStamp($("#previsao_inicio").val());var F=Number($("#hlt").html());var G=1;var D=new getTotalFuncoes("pfa");var R=Number(D.total)>=100?true:false;var v=config_isEng?Number($("#pct-eng").html())/100:0;var p=config_isDes?Number($("#pct-des").html())/100:0;var h=config_isImp?Number($("#pct-imp").html())/100:0;var C=config_isTes?Number($("#pct-tes").html())/100:0;var N=config_isHom?Number($("#pct-hom").html())/100:0;var q=config_isImpl?Number($("#pct-impl").html())/100:0;var ad=config_isEng?$("#prod-eng").val():0;var Y=config_isDes?$("#prod-des").val():0;var L=config_isImp?$("#prod-imp").val():0;var ai=config_isTes?$("#prod-tes").val():0;var e=config_isHom?$("#prod-hom").val():0;var O=config_isImpl?$("#prod-impl").val():0;var Z=config_isEng?Number(D.total*v*G):0;var U=config_isDes?Number(D.total*p*G):0;var I=config_isImp?Number(D.total*h*G):0;var ae=config_isTes?Number(D.total*C*G):0;var aq=config_isHom?Number(D.total*N*G):0;var b=config_isImpl?Number(D.total*q*G):0;config_isEng?$("#pct-pfa-eng").html(Z.toFixed(4)):0;config_isDes?$("#pct-pfa-des").html(U.toFixed(4)):0;config_isImp?$("#pct-pfa-imp").html(I.toFixed(4)):0;config_isTes?$("#pct-pfa-tes").html(ae.toFixed(4)):0;config_isHom?$("#pct-pfa-hom").html(aq.toFixed(4)):0;config_isImpl?$("#pct-pfa-impl").html(b.toFixed(4)):0;var w=config_isEng?Number((Z*ad)).toFixed(4):0;var r=config_isDes?Number((U*Y)).toFixed(4):0;var i=config_isImp?Number((I*L)).toFixed(4):0;var E=config_isTes?Number((ae*ai)).toFixed(4):0;var Q=config_isHom?Number((aq*e)).toFixed(4):0;var j=config_isImpl?Number((b*O)).toFixed(4):0;var P=1;var J=1;var A=1;var W=1;var aj=1;var f=1;if(isEng){var am=Number((Z*ad)/F/(R?P:1)).toFixed(4);var s=Math.ceil(am)*aDay*Number(config_fatorReducaoCronograma);var K=ak+s;var an=getWeekend(ak,K);$("#previsao-f-eng").html(escreveInicioFim(ak,an,"eng"));$("#esforco-f-eng").html(escreveEsforcoDuracao(w,am));if(isDes){var ah=Number((U*Y)/F/(R?J:1)).toFixed(4);var o=Math.ceil(ah)*aDay*Number(config_fatorReducaoCronograma);var H=an+aDay+o;var ap=an+aDay;if(new Date(ap).getDay()==6){ap+=2*aDay}var al=getWeekend(an,H);$("#previsao-f-des").html(escreveInicioFim(ap,al,"des"));$("#esforco-f-des").html(escreveEsforcoDuracao(r,ah));if(isImp){var V=Number((I*L)/F/(R?A:1)).toFixed(4);var g=Math.ceil(V)*aDay*Number(config_fatorReducaoCronograma);var u=al+aDay+g;var ag=al+aDay;if(new Date(ag).getDay()==6){ag+=2*aDay}var ab=getWeekend(al,u);$("#previsao-f-imp").html(escreveInicioFim(ag,ab,"imp"));$("#esforco-f-imp").html(escreveEsforcoDuracao(i,V));if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=ab+aDay+z;var k=ab+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(ab,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=ab+aDay+M;var t=ab+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(ab,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=ab+aDay+l;var aa=ab+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(ab,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}else{if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=al+aDay+z;var k=al+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(al,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=al+aDay+M;var t=al+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(al,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=al+aDay+l;var aa=al+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(al,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}}else{if(isImp){var V=Number((I*L)/F/(R?A:1)).toFixed(4);var g=Math.ceil(V)*aDay*Number(config_fatorReducaoCronograma);var u=an+aDay+g;var ag=an+aDay;if(new Date(ag).getDay()==6){ag+=2*aDay}var ab=getWeekend(an,u);$("#previsao-f-imp").html(escreveInicioFim(ag,ab,"imp"));$("#esforco-f-imp").html(escreveEsforcoDuracao(i,V));if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=ab+aDay+z;var k=ab+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(ab,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=ab+aDay+M;var t=ab+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(ab,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=ab+aDay+l;var aa=ab+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(ab,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}else{if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=an+aDay+z;var k=an+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(an,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=an+aDay+M;var t=an+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(an,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);var j=Number((b*O)).toFixed(4);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=an+aDay+l;var aa=an+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(an,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}}}else{if(isDes){var ah=Number((U*Y)/F/(R?J:1)).toFixed(4);var o=Math.ceil(ah)*aDay*Number(config_fatorReducaoCronograma);var H=ak+o;var ap=ak;if(new Date(ap).getDay()==6){ap+=2*aDay}var al=getWeekend(ak,H);$("#previsao-f-des").html(escreveInicioFim(ap,al,"des"));$("#esforco-f-des").html(escreveEsforcoDuracao(r,ah));if(isImp){var V=Number((I*L)/F/(R?A:1)).toFixed(4);var g=Math.ceil(V)*aDay*Number(config_fatorReducaoCronograma);var u=al+aDay+g;var ag=al+aDay;if(new Date(ag).getDay()==6){ag+=2*aDay}var ab=getWeekend(al,u);$("#previsao-f-imp").html(escreveInicioFim(ag,ab,"imp"));$("#esforco-f-imp").html(escreveEsforcoDuracao(i,V));if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=ab+aDay+z;var k=ab+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(ab,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=ab+aDay+M;var t=ab+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(ab,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=ab+aDay+l;var aa=ab+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(ab,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}else{if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=al+aDay+z;var k=al+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(al,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=al+aDay+M;var t=al+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(al,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=al+aDay+l;var aa=al+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(al,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}}else{if(isImp){var V=Number((I*L)/F/(R?A:1)).toFixed(4);var g=Math.ceil(V)*aDay*Number(config_fatorReducaoCronograma);var u=ak+g;var ag=ak;if(new Date(ag).getDay()==6){ag+=2*aDay}var ab=getWeekend(ak,u);$("#previsao-f-imp").html(escreveInicioFim(ag,ab,"imp"));$("#esforco-f-imp").html(escreveEsforcoDuracao(i,V));if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=ab+aDay+z;var k=ab+aDay;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(ab,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=ab+aDay+M;var t=ab+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(ab,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=ab+aDay+l;var aa=ab+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(ab,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}else{if(isTes){var ao=Number((ae*ai)/F/(R?W:1)).toFixed(4);var z=Math.ceil(ao)*aDay*Number(config_fatorReducaoCronograma);var T=ak+z;var k=ak;if(new Date(k).getDay()==6){k+=2*aDay}var c=getWeekend(ak,T);$("#previsao-f-tes").html(escreveInicioFim(k,c,"tes"));$("#esforco-f-tes").html(escreveEsforcoDuracao(E,ao));if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=c+aDay+M;var t=c+aDay;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(c,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=c+aDay+l;var aa=c+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(c,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}else{if(isHom){var m=Number((aq*e)/F/(R?aj:1)).toFixed(4);var M=Math.ceil(m)*aDay*Number(config_fatorReducaoCronograma);var af=ak+M;var t=ak;if(new Date(t).getDay()==6){t+=2*aDay}var n=getWeekend(ak,af);$("#previsao-f-hom").html(escreveInicioFim(t,n,"hom"));$("#esforco-f-hom").html(escreveEsforcoDuracao(Q,m));if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=n+aDay+l;var aa=n+aDay;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(n,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}else{if(isImpl){var X=Number((b*O)/F/(R?f:1)).toFixed(4);var l=Math.ceil(X)*aDay*Number(config_fatorReducaoCronograma);var a=ak+l;var aa=ak;if(new Date(aa).getDay()==6){aa+=2*aDay}var S=getWeekend(ak,a);$("#previsao-f-impl").html(escreveInicioFim(aa,S,"impl"));$("#esforco-f-impl").html(escreveEsforcoDuracao(j,X))}}}}}}calculaPrazo(B)}function calculaPrazo(c){var f=$("input[type=radio][name=expoente]:checked");var e=f.length>0?f.val():Number("0.32").toFixed(2);var b=getBaseCalculo();var a=Number(Math.pow(b,e)).toFixed(2);$("#calculado").html(b.toLocaleString());$("#tempo-desenvolvimento").html(a.toLocaleString());$("#regiao-impossivel").html(Number(a*0.75).toFixed(2).toLocaleString());$("#menor-custo").html(Number(2*a).toFixed(2).toLocaleString());calculaEsforco(c)}function calculaEsforco(f){var c=getEsforcoTotal();var b=getDuracaoProjeto();var e=getCustoTotal();var g=e.replace(".",",");var a=g.extenso(true);$("#esforco-total").val(c);$("#span-esforco-total").html(c);$("#duracao-projeto").html(b);escreveTamanhoProdutividade();$("#custo-total").html(parseFloat(e).toFixed(2)+"<br><small>"+a.capitalizeFirstLetter()+"</small>");$("#data-final-projeto").html(getDataFinal());$("#div_previsao_termino").html(getDataFinal());f?calculaDistribuicaoEntregas():null;calculaCocomo()}function calculaDistribuicaoEntregas(){var b=Number($("#entregas").val());var t=Number($("#hlt").html());var D=[];var F=[];var K=qtdALI+1;var L=qtdAIE+1;var J=qtdEE+1;var m=qtdSE+1;var v=qtdCE+1;var s=qtdOU+1;for(x=0;x<=b;x++){D[x]=0;F[x]=""}var H;var p;var G;var C;var l;$("#tblEntregas").empty();var r=document.getElementById("tblEntregas");var n;var u=$("#chk-ft").prop("checked")?Number($("#span-ft").html()):1;var z=Number(parseFloat($("#tamanho-pfa").html()).toFixed(4));var A="";var w;var j=Number(0);isEng?j+=Number($("#pct-eng").html()):0;isDes?j+=Number($("#pct-des").html()):0;isImp?j+=Number($("#pct-imp").html()):0;isTes?j+=Number($("#pct-tes").html()):0;isHom?j+=Number($("#pct-hom").html()):0;isImpl?j+=Number($("#pct-impl").html()):0;j=j/100;for(x=1;x<=b;x++){$("#addALI tr:lt("+K+")").each(function(){p=$(this);H=Number($.trim(p.find("td:eq(9)").text()));if(x==H){G=Number($.trim(p.find("td:eq(8)").text()))*j;l=$.trim(p.find("td:eq(2)").text());C=Number(+D[x]||0);D[x]=(Number(parseFloat(C).toFixed(4))+Number(parseFloat(G).toFixed(4)));F[x]=F[x]+"ALI - "+l+", "}});$("#addAIE tr:lt("+L+")").each(function(){p=$(this);H=Number($.trim(p.find("td:eq(9)").text()));if(x==H){G=Number($.trim(p.find("td:eq(8)").text()))*j;l=$.trim(p.find("td:eq(2)").text());C=Number(+D[x]||0);D[x]=(Number(parseFloat(C).toFixed(4))+Number(parseFloat(G).toFixed(4)));F[x]=F[x]+"AIE - "+l+", "}});$("#addEE tr:lt("+J+")").each(function(){p=$(this);H=Number($.trim(p.find("td:eq(9)").text()));if(x==H){G=Number($.trim(p.find("td:eq(8)").text()))*j;l=$.trim(p.find("td:eq(2)").text());C=Number(+D[x]||0);D[x]=(Number(parseFloat(C).toFixed(4))+Number(parseFloat(G).toFixed(4)));F[x]=F[x]+"EE - "+l+", "}});$("#addSE tr:lt("+m+")").each(function(){p=$(this);H=Number($.trim(p.find("td:eq(9)").text()));if(x==H){G=Number($.trim(p.find("td:eq(8)").text()))*j;l=$.trim(p.find("td:eq(2)").text());C=Number(+D[x]||0);D[x]=(Number(parseFloat(C).toFixed(4))+Number(parseFloat(G).toFixed(4)));F[x]=F[x]+"SE - "+l+", "}});$("#addCE tr:lt("+v+")").each(function(){p=$(this);H=Number($.trim(p.find("td:eq(9)").text()));if(x==H){G=Number($.trim(p.find("td:eq(8)").text()))*j;l=$.trim(p.find("td:eq(2)").text());C=Number(+D[x]||0);D[x]=(Number(parseFloat(C).toFixed(4))+Number(parseFloat(G).toFixed(4)));F[x]=F[x]+"CE - "+l+", "}});$("#addOU tr:lt("+s+")").each(function(){p=$(this);H=Number($.trim(p.find("td:eq(6)").text()));if(x==H){G=Number($.trim(p.find("td:eq(4)").text()))*j;l=$.trim(p.find("td:eq(2)").text());C=Number(+D[x]||0);D[x]=(Number(parseFloat(C).toFixed(4))+Number(parseFloat(G).toFixed(4)));F[x]=F[x]+"OU - "+l+", "}})}var q=getProdutividadeMedia();var o=getCustoTotal();for(x=1;x<=b;x++){n=r.insertRow(-1);n.className="fadeIn";var B=+(Number(D[x]*q).toFixed(4))||0;var E=+(Number(D[x]*q).toFixed(4))||0;var M=B>0?Number((E/t)).toFixed(4):0;var k=(+(Number((D[x]*config_aumentoEsforco)/(z))*100).toFixed(4)||0);var I=Number(k/100*o).toFixed(2);var i=n.insertCell(0);var h=n.insertCell(1);var g=n.insertCell(2);var f=n.insertCell(3);var e=n.insertCell(4);var c=n.insertCell(5);var a=n.insertCell(6);i.innerHTML="#"+("0000"+x).slice(-4);A+="#"+("0000"+x).slice(-4)+",";h.innerHTML=F[x].substring(0,F[x].length-2);g.innerHTML=Number((D[x])*config_aumentoEsforco*u).toFixed(4);f.innerHTML=parseFloat(k*u).toFixed(4)+"%";e.innerHTML=parseFloat(B*config_aumentoEsforco*u).toFixed(4)+" h";c.innerHTML=parseFloat(M*config_fatorReducaoCronograma*u).toFixed(4)+" d";a.innerHTML="R$ "+parseFloat(I*u).toFixed(2)}w=(A.substring(0,A.length-1)).split(",");D.shift();graficoEntregas(w,D)}function salvarEstatisticas(){if(ac==="al"||ac==="in"||ac==="re"){iWaitEstatisticas("wait-estatisticas",true,"fa fa-pie-chart fa-lg");var b=$("input[type=radio][name=expoente]:checked");var a=b.length>0?b.val():Number("0.32").toFixed(2);var e=$("#chk-ft").prop("checked")?Number($("#span-ft").html()):1;var c=$("#tamanho-pfa").html();if(isSalvarEstatisticas){$.post("/pf/DIM.Gateway.php",{arq:11,tch:0,sub:-1,dlg:1,id:idContagem,previsao_inicio:$("#previsao_inicio").val(),previsao_termino:$("#div_previsao_termino").html(),produtividade_global:produtividadeGlobal,chk_produtividade_global:$("#chk_produtividade_global").prop("checked")?1:0,hlt:$("#hlt").html(),isFt:$("#chk-ft").prop("checked")?1:0,ft:$("#span-ft").html(),"pct-eng":config_isEng?$("#pct-eng").html():0,"prod-eng":config_isEng?$("#prod-eng").val():0,"prof-eng":config_isEng?$("#prof-eng").val():0,"perf-eng":config_isEng?selectizeEng.getValue():"","chk-eng":config_isEng?($("#chk-eng").prop("checked")?1:0):0,"is-f-eng":config_isEng?1:0,"desc-f-eng":config_isEng?$("#desc-f-eng").html():"","pct-des":config_isDes?$("#pct-des").html():0,"prod-des":config_isDes?$("#prod-des").val():0,"prof-des":config_isDes?$("#prof-des").val():0,"perf-des":config_isDes?selectizeDes.getValue():"","chk-des":config_isDes?($("#chk-des").prop("checked")?1:0):0,"is-f-des":config_isDes?1:0,"desc-f-des":config_isDes?$("#desc-f-des").html():"","pct-imp":config_isImp?$("#pct-imp").html():0,"prod-imp":config_isImp?$("#prod-imp").val():0,"prof-imp":config_isImp?$("#prof-imp").val():0,"perf-imp":config_isImp?selectizeImp.getValue():"","chk-imp":config_isImp?($("#chk-imp").prop("checked")?1:0):0,"is-f-imp":config_isImp?1:0,"desc-f-imp":config_isImp?$("#desc-f-imp").html():"","pct-tes":config_isTes?$("#pct-tes").html():0,"prod-tes":config_isTes?$("#prod-tes").val():0,"prof-tes":config_isTes?$("#prof-tes").val():0,"perf-tes":config_isTes?selectizeTes.getValue():"","chk-tes":config_isTes?($("#chk-tes").prop("checked")?1:0):0,"is-f-tes":config_isTes?1:0,"desc-f-tes":config_isTes?$("#desc-f-tes").html():"","pct-hom":config_isHom?$("#pct-hom").html():0,"prod-hom":config_isHom?$("#prod-hom").val():0,"prof-hom":config_isHom?$("#prof-hom").val():0,"perf-hom":config_isHom?selectizeHom.getValue():"","chk-hom":config_isHom?($("#chk-hom").prop("checked")?1:0):0,"is-f-hom":config_isHom?1:0,"desc-f-hom":config_isHom?$("#desc-f-hom").html():"","pct-impl":config_isImpl?$("#pct-impl").html():0,"prod-impl":config_isImpl?$("#prod-impl").val():0,"prof-impl":config_isImpl?$("#prof-impl").val():0,"perf-impl":config_isImpl?selectizeImpl.getValue():"","chk-impl":config_isImpl?($("#chk-impl").prop("checked")?1:0):0,"is-f-impl":config_isImpl?1:0,"desc-f-impl":config_isImpl?$("#desc-f-impl").html():"",expoente:a,calculado:($("#calculado").html()).length>0?$("#calculado").html():0,"tempo-desenvolvimento":($("#tempo-desenvolvimento").html()).length>0?$("#tempo-desenvolvimento").html():0,"regiao-impossivel":($("#regiao-impossivel").html()).length>0?$("#regiao-impossivel").html():0,"menor-custo":($("#menor-custo").html()).length>0?$("#menor-custo").html():0,"previsao-f-eng":config_isEng?$("#previsao-f-eng").html():"","previsao-f-des":config_isDes?$("#previsao-f-des").html():"","previsao-f-imp":config_isImp?$("#previsao-f-imp").html():"","previsao-f-tes":config_isTes?$("#previsao-f-tes").html():"","previsao-f-hom":config_isHom?$("#previsao-f-hom").html():"","previsao-f-impl":config_isImpl?$("#previsao-f-impl").html():"","esforco-f-eng":config_isEng?$("#esforco-f-eng").html():"","esforco-f-des":config_isDes?$("#esforco-f-des").html():"","esforco-f-imp":config_isImp?$("#esforco-f-imp").html():"","esforco-f-tes":config_isTes?$("#esforco-f-tes").html():"","esforco-f-hom":config_isHom?$("#esforco-f-hom").html():"","esforco-f-impl":config_isImpl?$("#esforco-f-impl").html():"","pct-pfa-eng":config_isEng?$("#pct-pfa-eng").html():0,"pct-pfa-des":config_isDes?$("#pct-pfa-des").html():0,"pct-pfa-imp":config_isImp?$("#pct-pfa-imp").html():0,"pct-pfa-tes":config_isTes?$("#pct-pfa-tes").html():0,"pct-pfa-hom":config_isHom?$("#pct-pfa-hom").html():0,"pct-pfa-impl":config_isImpl?$("#pct-pfa-impl").html():0,"chk-produtividade-linguagem":$("#chk-produtividade-linguagem").prop("checked")?1:0,"escala-produtividade":$("#escala-produtividade").val(),"produtividade-baixa":$("#produtividade-baixa").val(),"produtividade-media":$("#produtividade-media").val(),"produtividade-alta":$("#produtividade-alta").val(),hpc:Number($("#hpc").val()),hpa:Number($("#hpa").val()),"valor-hpc":Number($("#valor-hpc").val()),"valor-hpa":Number($("#valor-hpa").val()),"custo-total":getCustoTotal(),"valor-pfa-contrato":Number($("#valor-pfa-contrato").val()),"aumento-esforco":config_aumentoEsforco,"fator-reducao-cronograma":config_fatorReducaoCronograma,"tipo-projeto":$("#tipo-projeto").val(),"esforco-total":$("#esforco-total").val(),"tamanho-pfa":c,"span-produtividade-media":$("#span-produtividade-media").html(),COCOMO_A:$("#COCOMO-A").val(),COCOMO_B:$("#COCOMO-B").val(),COCOMO_C:$("#COCOMO-C").val(),COCOMO_D:$("#COCOMO-D").val(),COCOMO_E:$("#COCOMO-E").val(),ED_PERS:$("input:radio[name=ED-PERS]:checked").get(0).id,ED_RCPX:$("input:radio[name=ED-RCPX]:checked").get(0).id,ED_PDIF:$("input:radio[name=ED-PDIF]:checked").get(0).id,ED_PREX:$("input:radio[name=ED-PREX]:checked").get(0).id,ED_FCIL:$("input:radio[name=ED-FCIL]:checked").get(0).id,ED_RUSE:$("input:radio[name=ED-RUSE]:checked").get(0).id,ED_SCED:$("input:radio[name=ED-SCED]:checked").get(0).id,PREC:$("input:radio[name=PREC]:checked").get(0).id,FLEX:$("input:radio[name=FLEX]:checked").get(0).id,RESL:$("input:radio[name=RESL]:checked").get(0).id,TEAM:$("input:radio[name=TEAM]:checked").get(0).id,PMAT:$("input:radio[name=PMAT]:checked").get(0).id,RELY:$("input:radio[name=RELY]:checked").get(0).id,DATA:$("input:radio[name=DATA]:checked").get(0).id,CPLX_CN:$("input:radio[name=CPLX-CN]:checked").get(0).id,CPLX_CO:$("input:radio[name=CPLX-CO]:checked").get(0).id,CPLX_DO:$("input:radio[name=CPLX-DO]:checked").get(0).id,CPLX_DM:$("input:radio[name=CPLX-DM]:checked").get(0).id,CPLX_UI:$("input:radio[name=CPLX-UI]:checked").get(0).id,CPLX:$("#CPLX").val(),RUSE:$("input:radio[name=RUSE]:checked").get(0).id,DOCU:$("input:radio[name=DOCU]:checked").get(0).id,TIME:$("input:radio[name=TIME]:checked").get(0).id,STOR:$("input:radio[name=STOR]:checked").get(0).id,PVOL:$("input:radio[name=PVOL]:checked").get(0).id,ACAP:$("input:radio[name=ACAP]:checked").get(0).id,PCAP:$("input:radio[name=PCAP]:checked").get(0).id,PCON:$("input:radio[name=PCON]:checked").get(0).id,APEX:$("input:radio[name=APEX]:checked").get(0).id,PLEX:$("input:radio[name=PLEX]:checked").get(0).id,LTEX:$("input:radio[name=LTEX]:checked").get(0).id,TOOL:$("input:radio[name=TOOL]:checked").get(0).id,SITE:$("input:radio[name=SITE]:checked").get(0).id,SCED:$("input:radio[name=SCED]:checked").get(0).id,esforco:$("#coc-esforco").html(),cronograma:$("#coc-cronograma").html(),custo:$("#coc-custo").html(),custo_pessoa:$("#coc-custo-pessoa").html(),sloc:$("#coc-sloc").html(),tipo_calculo:$("#tipo-calculo").prop("checked")?1:0},function(f){if(!f.sucesso){swal({title:"Alerta",text:"N&atilde;o foi poss&iacute;vel atualizar as estat&iacute;sticas, por favor tente novamente.",type:"error",html:true,confirmButtonText:"Entendi, obrigado!"})}iWaitEstatisticas("wait-estatisticas",false,"fa fa-pie-chart fa-lg")},"json")}}destacaLinhaMenor100()}function montaTabelaFatorTecnologia(a){$.post("/pf/DIM.Gateway.php",{arq:104,tch:1,sub:-1,dlg:1,idc:idContagem},function(e){var c=document.getElementById("tabela_fator_tecnologia");var b=0;var g=$("#chk-ft").prop("checked")?true:false;var m=getSomaPFAFatorTecnologia();$("#tabela_fator_tecnologia").empty();for(y=0;y<e.fator_tecnologia.length;y++){var f=e.percentual_de_cada[y]*(g?e.fator_tecnologia[y].fator_tecnologia:1)*m;var n=c.insertRow(-1);var l=n.insertCell(0);var k=n.insertCell(1);var j=n.insertCell(2);var i=n.insertCell(3);var h=n.insertCell(4);l.setAttribute("align","center");j.setAttribute("align","right");i.setAttribute("align","right");h.setAttribute("align","right");l.innerHTML=e.fator_tecnologia[y].quantidade;k.innerHTML=e.fator_tecnologia[y].descricao;j.innerHTML=parseFloat(e.fator_tecnologia[y].fator_tecnologia).toFixed(4);i.innerHTML=parseFloat(e.percentual_de_cada[y]*100).toFixed(4)+"%";h.innerHTML=parseFloat(f).toFixed(4);b+=f}$("#total-pf-local").html(parseFloat(b).toFixed(4));isSalvarEstatisticas?salvarEstatisticas():null},"json")}function destacaLinhaMenor100(){var b=getBaseCalculo();var a;if(b<11){a="pf0"}else{if(b>=11&&b<21){a="pf1"}else{if(b>=21&&b<31){a="pf2"}else{if(b>=31&&b<41){a="pf3"}else{if(b>=41&&b<51){a="pf4"}else{if(b>=51&&b<61){a="pf5"}else{if(b>=61&&b<71){a="pf6"}else{if(b>=71&&b<86){a="pf7"}else{if(b>=86&&b<100){a="pf8"}}}}}}}}}for(x=0;x<=8;x++){$("#pf"+x).removeClass("linha-destaque-menor-100")}$("#"+a).addClass("linha-destaque-menor-100")};