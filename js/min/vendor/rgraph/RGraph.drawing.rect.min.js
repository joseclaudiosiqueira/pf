
RGraph=window.RGraph||{isRGraph:true};RGraph.Drawing=RGraph.Drawing||{};RGraph.Drawing.Rect=function(i){if(typeof i==="object"&&typeof i.x==="number"&&typeof i.y==="number"&&typeof i.width==="number"&&typeof i.height==="number"&&typeof i.id==="string"){var b=i.id;var l=i.x;var k=i.y;var c=i.width;var p=i.height;var e=true}else{var b=i;var l=arguments[1];var k=arguments[2];var c=arguments[3];var p=arguments[4]}this.id=b;this.canvas=document.getElementById(this.id);this.context=this.canvas.getContext("2d");this.colorsParsed=false;this.canvas.__object__=this;this.original_colors=[];this.coordsText=[];this.firstDraw=true;this.type="drawing.rect";this.isRGraph=true;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();this.properties={"chart.strokestyle":"rgba(0,0,0,0)","chart.fillstyle":"red","chart.events.click":null,"chart.events.mousemove":null,"chart.shadow":false,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.highlight.stroke":"black","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":true,"chart.tooltips.coords.page":false,"chart.tooltips.valign":"top"};if(!this.canvas){alert("[DRAWING.RECT] No canvas support");return}this.coords=[[Math.round(l),Math.round(k),c,p]];this.$0={};if(!this.canvas.__rgraph_aa_translated__){this.context.translate(0.5,0.5);this.canvas.__rgraph_aa_translated__=true}var g=RGraph;var f=this.canvas;var j=f.getContext("2d");var a=this.properties;var d=jQuery;var n=g.Path;var h=window;var m=document;var o=Math;if(g.Effects&&typeof g.Effects.decorate==="function"){g.Effects.decorate(this)}this.set=this.Set=function(q){var r=typeof arguments[1]==="undefined"?null:arguments[1];if(arguments.length===1&&typeof q==="object"){g.parseObjectStyleConfig(this,q);return this}q=q.toLowerCase();if(q.substr(0,6)!="chart."){q="chart."+q}a[q]=r;return this};this.get=this.Get=function(q){if(q.substr(0,6)!="chart."){q="chart."+q}return a[q.toLowerCase()]};this.draw=this.Draw=function(){g.FireCustomEvent(this,"onbeforedraw");this.coordsText=[];if(!this.colorsParsed){this.parseColors();this.colorsParsed=true}n(this,["b"]);if(a["chart.shadow"]){n(this,["sc",a["chart.shadow.color"],"sx",a["chart.shadow.offsetx"],"sy",a["chart.shadow.offsety"],"sb",a["chart.shadow.blur"]])}n(this,["r",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],"f",a["chart.fillstyle"]]);g.NoShadow(this);n(this,["s",a["chart.strokestyle"]]);g.InstallEventListeners(this);if(this.firstDraw){g.fireCustomEvent(this,"onfirstdraw");this.firstDraw=false;this.firstDrawFunc()}g.FireCustomEvent(this,"ondraw");return this};this.getObjectByXY=function(q){if(this.getShape(q)){return this}};this.getShape=function(x){var v=RGraph.getMouseXY(x);var t=v[0];var s=v[1];for(var u=0,w=this.coords.length;u<w;u++){var z=this.coords[u];var r=z[0];var y=z[1];var q=z[2];var A=z[3];if(t>=r&&t<=(r+q)&&s>=y&&s<=(y+A)){return{0:this,1:r,2:y,3:q,4:A,5:0,object:this,x:r,y:y,width:q,height:A,index:0,tooltip:a["chart.tooltips"]?a["chart.tooltips"][0]:null}}}return null};this.positionTooltip=function(t,w,v,D,z){var C=t.coords[0][0];var B=t.coords[0][1];var E=t.coords[0][2];var u=t.coords[0][3];var s=g.getCanvasXY(t.canvas);var q=D.offsetWidth;var A=D.offsetHeight;D.style.left=0;if(a["chart.tooltips.valign"]=="center"){D.style.top=s[1]+B+(u/2)-A+"px"}else{D.style.top=s[1]+B-A-7+"px"}D.style.overflow="";var r=new Image();r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC";r.style.position="absolute";r.id="__rgraph_tooltip_pointer__";r.style.top=(D.offsetHeight-2)+"px";D.appendChild(r);if((s[0]+C+(E/2)-(q/2))<10){D.style.left=(s[0]+C-(q*0.1))+(E/2)+"px";r.style.left=((q*0.1)-8.5)+"px"}else{if((s[0]+C+(q/2))>m.body.offsetWidth){D.style.left=s[0]+C-(q*0.9)+(E/2)+"px";r.style.left=((q*0.9)-8.5)+"px"}else{D.style.left=(s[0]+C+(E/2)-(q*0.5))+"px";r.style.left=((q*0.5)-8.5)+"px"}}};this.highlight=this.Highlight=function(q){g.Highlight.Rect(this,q)};this.parseColors=function(){if(this.original_colors.length===0){this.original_colors["chart.fillstyle"]=g.array_clone(a["chart.fillstyle"]);this.original_colors["chart.strokestyle"]=g.array_clone(a["chart.strokestyle"]);this.original_colors["chart.highlight.stroke"]=g.array_clone(a["chart.highlight.stroke"]);this.original_colors["chart.highlight.fill"]=g.array_clone(a["chart.highlight.fill"])}a["chart.fillstyle"]=this.parseSingleColorForGradient(a["chart.fillstyle"]);a["chart.strokestyle"]=this.parseSingleColorForGradient(a["chart.strokestyle"]);a["chart.highlight.stroke"]=this.parseSingleColorForGradient(a["chart.highlight.stroke"]);a["chart.highlight.fill"]=this.parseSingleColorForGradient(a["chart.highlight.fill"])};this.reset=function(){};this.parseSingleColorForGradient=function(r){if(!r){return r}if(typeof r==="string"&&r.match(/^gradient\((.*)\)$/i)){var u=RegExp.$1.split(":");var v=j.createLinearGradient(0,0,f.width,0);var t=1/(u.length-1);v.addColorStop(0,g.trim(u[0]));for(var s=1,q=u.length;s<q;++s){v.addColorStop(s*t,g.trim(u[s]))}}return v?v:r};this.on=function(q,r){if(q.substr(0,2)!=="on"){q="on"+q}this[q]=r;return this};this.firstDrawFunc=function(){};g.att(f);g.Register(this);if(e){g.parseObjectStyleConfig(this,i.options)}};